<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Edit an Oce Object — oceEdit • oce</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Edit an Oce Object — oceEdit"><meta name="description" content="Edit an element of an oce object, inserting a note in the processing
log of the returned object."><meta property="og:description" content="Edit an element of an oce object, inserting a note in the processing
log of the returned object."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">oce</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.8-4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/A_oce.html">1. Introduction to Oce</a></li>
    <li><a class="dropdown-item" href="../articles/B_ctd.html">2. Analysis of CTD data</a></li>
    <li><a class="dropdown-item" href="../articles/C_adp.html">3. Analysis of acoustic-Doppler data</a></li>
    <li><a class="dropdown-item" href="../articles/D_map_projections.html">4. Using map projections</a></li>
    <li><a class="dropdown-item" href="../articles/E_flags.html">5. Dealing with data-quality flags</a></li>
    <li><a class="dropdown-item" href="../articles/F_subclassing.html">6. Subclassing oce objects</a></li>
    <li><a class="dropdown-item" href="../articles/G_altering_defaults.html">7. Altering oce Defaults</a></li>
    <li><a class="dropdown-item" href="../articles/H_tides.html">8. Tidal Analysis</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dankelley/oce/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Edit an Oce Object</h1>
      <small class="dont-index">Source: <a href="https://github.com/dankelley/oce/blob/HEAD/R/oce.R" class="external-link"><code>R/oce.R</code></a></small>
      <div class="d-none name"><code>oceEdit.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Edit an element of an oce object, inserting a note in the processing
log of the returned object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">oceEdit</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">item</span>,</span>
<span>  <span class="va">value</span>,</span>
<span>  <span class="va">action</span>,</span>
<span>  reason <span class="op">=</span> <span class="st">""</span>,</span>
<span>  person <span class="op">=</span> <span class="st">""</span>,</span>
<span>  debug <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"oceDebug"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>an <a href="oce-class.html">oce</a> object.  The exact action of <code>oceEdit()</code> depends
on the sub-class of <code>x</code>.</p></dd>


<dt id="arg-item">item<a class="anchor" aria-label="anchor" href="#arg-item"></a></dt>
<dd><p>if supplied, a character string naming an item in the object's
<code>metadata</code> or <code>data</code> slot, the former being checked first.
An exception is if <code>item</code> starts with <code>"data@"</code> or
<code>"metadata@"</code>, in which case the named slot is updated with a changed
value of the contents of <code>item</code> after the <code>@</code> character.</p></dd>


<dt id="arg-value">value<a class="anchor" aria-label="anchor" href="#arg-value"></a></dt>
<dd><p>new value for <code>item</code>, if both supplied.</p></dd>


<dt id="arg-action">action<a class="anchor" aria-label="anchor" href="#arg-action"></a></dt>
<dd><p>optional character string containing R code to carry out some
action on the object.</p></dd>


<dt id="arg-reason">reason<a class="anchor" aria-label="anchor" href="#arg-reason"></a></dt>
<dd><p>character string giving the reason for the change.</p></dd>


<dt id="arg-person">person<a class="anchor" aria-label="anchor" href="#arg-person"></a></dt>
<dd><p>character string giving the name of person making the change.</p></dd>


<dt id="arg-debug">debug<a class="anchor" aria-label="anchor" href="#arg-debug"></a></dt>
<dd><p>an integer that specifies a level of debugging, with 0 or less
indicating no debugging, and 1 or more indicating debugging.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <a href="oce-class.html">oce</a> object, altered appropriately, and with a log item
indicating the nature of the alteration.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>There are several ways to use this function.</p><ol><li><p>If both an <code>item</code> and <code>value</code> are supplied, then
either the object's metadata or data slot may be altered. There are
two ways in which this can be done.</p><ul><li><p>Case 1A. If the <code>item</code> string does not contain an
<code>@</code> character, then the <code>metadata</code> slot is examined
for an entry named <code>item</code>, and that is modified if so.
Alternatively, if <code>item</code> is found in <code>metadata</code>, then
that value is modified. However, if <code>item</code> is not found in
either <code>metadata</code> or <code>data</code>, then an error is reported
(see 1B for how to add something that does not yet exist).</p></li>
<li><p>Case 1B. If the <code>item</code> string contains
the <code>@</code> character, then the text to the left of that character
must be either <code>"metadata"</code> or <code>"data"</code>, and it names the slot
in which the change is done. In contrast with case 1A, this will
<em>create</em> a new item, if it is not already in existence.</p></li>
</ul></li>
<li><p>If <code>item</code> and <code>value</code> are not supplied, then <code>action</code> must
be supplied.  This is a character string specifying some action to be
performed on the object, e.g. a manipulation of a column.  The action must
refer to the object as <code>x</code>, as in Example 2.</p></li>
</ol><p>In any case, a log entry is stored in the object, to document the change.
Indeed, this is the main benefit to using this function, instead of altering
the object directly.  The log entry will be most useful if it contains a
brief note on the <code>reason</code> for the change, and the name of the
<code>person</code> doing the work.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Dan Kelley</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dankelley.github.io/oce/">oce</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">ctd</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Example 1: change latitude</span></span></span>
<span class="r-in"><span><span class="va">ctd2</span> <span class="op">&lt;-</span> <span class="fu">oceEdit</span><span class="op">(</span><span class="va">ctd</span>,</span></span>
<span class="r-in"><span>    item <span class="op">=</span> <span class="st">"latitude"</span>, value <span class="op">=</span> <span class="fl">47.8879</span>,</span></span>
<span class="r-in"><span>    reason <span class="op">=</span> <span class="st">"illustration"</span>, person <span class="op">=</span> <span class="st">"Dan Kelley"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Example 2: add 0.1 dbar to pressure</span></span></span>
<span class="r-in"><span><span class="va">ctd3</span> <span class="op">&lt;-</span> <span class="fu">oceEdit</span><span class="op">(</span><span class="va">ctd</span>, action <span class="op">=</span> <span class="st">"x@data$pressure&lt;-x@data$pressure+0.1"</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dan Kelley, Clark Richards.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

