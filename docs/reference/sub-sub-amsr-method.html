<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Extract Something From an amsr Object — [[,amsr-method • oce</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Extract Something From an amsr Object — [[,amsr-method" />
<meta property="og:description" content="Extract something from the metadata or data slot of an amsr object.
The [[ method works for all oce objects, i.e.
objects inheriting from oce.  The purpose
is to insulate users from the internal details of oce
objects, by looking for items within the various storage
slots of the object. Items that are not actually stored in
the object can also be extracted, including derived data such
as potential temperature, the units of measurement for
the data, data-quality flags, etc." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">oce</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2-1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/oce.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/adp.html">3. Analysis of acoustic-Doppler data</a>
    </li>
    <li>
      <a href="../articles/ctd.html">2. Analysis of CTD data</a>
    </li>
    <li>
      <a href="../articles/flags.html">5. Dealing with data-quality flags</a>
    </li>
    <li>
      <a href="../articles/map_projections.html">4. Using map projections</a>
    </li>
    <li>
      <a href="../articles/subclassing.html">6. Subclassing oce objects</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/dankelley/oce/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extract Something From an amsr Object</h1>
    <small class="dont-index">Source: <a href='https://github.com/dankelley/oce/blob/master/R/amsr.R'><code>R/amsr.R</code></a></small>
    <div class="hidden name"><code>sub-sub-amsr-method.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Extract something from the <code>metadata</code> or <code>data</code> slot of an <a href='amsr-class.html'>amsr</a> object.</p>
<p>The <code>[[</code> method works for all <code>oce</code> objects, i.e.
objects inheriting from <a href='oce-class.html'>oce</a>.  The purpose
is to insulate users from the internal details of <code>oce</code>
objects, by looking for items within the various storage
slots of the object. Items that are not actually stored in
the object can also be extracted, including derived data such
as potential temperature, the units of measurement for
the data, data-quality flags, etc.</p>
    </div>

    <pre class="usage"># S4 method for amsr
[[(x, i, j, ...)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>an <a href='amsr-class.html'>amsr</a> object.</p></td>
    </tr>
    <tr>
      <th>i</th>
      <td><p>Character string indicating the name of an item to extract.</p></td>
    </tr>
    <tr>
      <th>j</th>
      <td><p>Optional additional information on the <code>i</code> item.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Optional additional information (ignored).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>In all cases, the returned value is a matrix with
with <code>NA</code> values inserted at locations where
the raw data equal <code><a href='https://rdrr.io/r/base/raw.html'>as.raw(251:255)</a></code>, as explained
in &#8220;Details&#8221;.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Partial matches for <code>i</code>
are permitted for <code>metadata</code>, and <code>j</code> is ignored for
<code>metadata</code>.</p>
<p>Data within the <code>data</code> slot may be found directly, e.g.
<code>j="SSTDay"</code> will yield sea-surface temperature in the daytime
satellite, and <code>j="SSTNight"</code> is used to access the nighttime data. In
addition, <code>j="SST"</code> yields an average of the night and day values
(using just one of these, if the other is missing). This scheme works for
all the data stored in <code>amsr</code> objects, namely:
<code>time</code>, <code>SST</code>, <code>LFwind</code>, <code>MFwind</code>,
<code>vapor</code>, <code>cloud</code> and <code>rain</code>.  In each case, the default
is to calculate values in scientific units, unless <code>j="raw"</code>, in
which case the raw data are returned.</p>
<p>The <code>"raw"</code> mode can be useful
in decoding the various types of missing value that are used by <code>amsr</code>
data, namely <code><a href='https://rdrr.io/r/base/raw.html'>as.raw(255)</a></code> for land, <code><a href='https://rdrr.io/r/base/raw.html'>as.raw(254)</a></code> for
a missing observation, <code><a href='https://rdrr.io/r/base/raw.html'>as.raw(253)</a></code> for a bad observation,
<code><a href='https://rdrr.io/r/base/raw.html'>as.raw(252)</a></code> for sea ice, or <code><a href='https://rdrr.io/r/base/raw.html'>as.raw(251)</a></code> for missing SST
due to rain or missing water vapour due to heavy rain. Note that
something special has to be done for e.g. <code>d[["SST","raw"]]</code>
because the idea is that this syntax (as opposed to specifying
<code>"SSTDay"</code>) is a request to try to find good
data by looking at both the Day and Night measurements. The scheme
employed is quite detailed. Denote by "A" the raw value of the desired field
in the daytime pass, and by "B" the corresponding value in the
nighttime pass. If either A or B is 255, the code for land, then the
result will be 255. If A is 254 (i.e. there is no observation),
then B is returned, and the reverse holds also. Similarly, if either
A or B equals 253 (bad observation), then the other is returned.
The same is done for code 252 (ice) and code 251 (rain).</p>
<p>A two-step process is used to try to find the
requested information. First, a class-specific function
tries to find it, but
if that fails, then a general function is used
(see next section).</p>
    <h2 class="hasAnchor" id="details-of-the-general-method"><a class="anchor" href="#details-of-the-general-method"></a>Details of the general method</h2>

    


<p>If the specialized method produces no matches, the following generalized
method is applied. As with the specialized method, the procedure hinges
first on the values of <code>i</code> and, optionally, <code>j</code>. The work
proceeds in steps, by testing a sequence of possible conditions
in sequence.</p><ol>
<li><p>A check is made as to whether <code>i</code> names one of the standard
<code>oce</code> slots. If so, <code>[[</code> returns the slot contents of that slot.
Thus, <code>x[["metadata"]]</code> will retrieve the <code>metadata</code> slot,
while <code>x[["data"]]</code> and <code>x[["processingLog"]]</code> return
those slots.</p></li>
<li><p>If <code>i</code> is a string ending in the
<code>"Unit"</code>, then the characters preceding that string
are taken to be the name of an item in the data object, and a list
containing the unit is returned. This list consists of an item
named <code>unit</code>, which is an <code><a href='https://rdrr.io/r/base/expression.html'>expression()</a></code>, and
an item named <code>scale</code>, which is a string describing the
measurement scale.  If the string ends in <code>" unit"</code>, e.g.
<code>x[["temperature unit"]]</code> (note the space),
then just the expression is returned, and if it ends in
<code>" scale"</code>, then just the scale is returned.</p></li>
<li><p>If <code>i</code> is a string ending in <code>"Flag"</code>, then the corresponding
data-quality flag is returned (or <code>NULL</code> if there is no such flag).
For example, <code>x[["salinityFlag"]]</code> returns a vector of salinity
flags if <code>x</code> is a ctd object.</p></li>
<li><p>If <code>i</code> is <code>"sigmaTheta"</code>, then the value of
<code><a href='swSigmaTheta.html'>swSigmaTheta()</a></code> is called with <code>x</code> as the sole
argument, and the results are returned. Similarly,
<code><a href='swSigma0.html'>swSigma0()</a></code> is used if <code>i="sigma0"</code>, and
<code><a href='swSpice.html'>swSpice()</a></code> is used if <code>i="spice"</code>. Of course, these
actions only make sense for objects that contain
the relevant items within their <code>data</code> slot.</p></li>
<li><p>After these possibilities are eliminated,
the action depends on whether <code>j</code> has been provided.
If <code>j</code> is not provided, or is the string <code>""</code>,
then <code>i</code> is sought
in the <code>metadata</code> slot, and then in the <code>data</code> slot,
returning whichever is found first.  In other words, if <code>j</code>
is not provided, the <code>metadata</code> slot takes preference over
the <code>data</code> slot. However, if <code>j</code> is provided, then
it must be either the string <code>"metadata"</code> or <code>"data"</code>,
and it directs where to look.</p></li>
</ol>

<p>If none of the above-listed conditions holds, then <code>NULL</code> is returned,
without the issuance of a warning or error message. (This silent operation
is employed so that <code>[[</code> will behave like the normal R version.)</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other functions that extract parts of oce objects: 
<code><a href='sub-sub-adp-method.html'>[[,adp-method</a></code>,
<code><a href='sub-sub-adv-method.html'>[[,adv-method</a></code>,
<code><a href='sub-sub-argo-method.html'>[[,argo-method</a></code>,
<code><a href='sub-sub-bremen-method.html'>[[,bremen-method</a></code>,
<code><a href='sub-sub-cm-method.html'>[[,cm-method</a></code>,
<code><a href='sub-sub-coastline-method.html'>[[,coastline-method</a></code>,
<code><a href='sub-sub-ctd-method.html'>[[,ctd-method</a></code>,
<code><a href='sub-sub-echosounder-method.html'>[[,echosounder-method</a></code>,
<code><a href='sub-sub-g1sst-method.html'>[[,g1sst-method</a></code>,
<code><a href='sub-sub-gps-method.html'>[[,gps-method</a></code>,
<code><a href='sub-sub-ladp-method.html'>[[,ladp-method</a></code>,
<code><a href='sub-sub-landsat-method.html'>[[,landsat-method</a></code>,
<code><a href='sub-sub-lisst-method.html'>[[,lisst-method</a></code>,
<code><a href='sub-sub-lobo-method.html'>[[,lobo-method</a></code>,
<code><a href='sub-sub-met-method.html'>[[,met-method</a></code>,
<code><a href='sub-sub-oce-method.html'>[[,oce-method</a></code>,
<code><a href='sub-sub-odf-method.html'>[[,odf-method</a></code>,
<code><a href='sub-sub-rsk-method.html'>[[,rsk-method</a></code>,
<code><a href='sub-sub-sealevel-method.html'>[[,sealevel-method</a></code>,
<code><a href='sub-sub-section-method.html'>[[,section-method</a></code>,
<code><a href='sub-sub-tidem-method.html'>[[,tidem-method</a></code>,
<code><a href='sub-sub-topo-method.html'>[[,topo-method</a></code>,
<code><a href='sub-sub-windrose-method.html'>[[,windrose-method</a></code>,
<code><a href='sub-sub-xbt-method.html'>[[,xbt-method</a></code>,
<code>[[&lt;-,adv-method</code></p>
<p>Other things related to amsr data: 
<code>[[&lt;-,amsr-method</code>,
<code><a href='amsr-class.html'>amsr-class</a></code>,
<code><a href='composite-amsr-method.html'>composite,amsr-method</a></code>,
<code><a href='download.amsr.html'>download.amsr</a>()</code>,
<code><a href='plot-amsr-method.html'>plot,amsr-method</a></code>,
<code><a href='read.amsr.html'>read.amsr</a>()</code>,
<code><a href='subset-amsr-method.html'>subset,amsr-method</a></code>,
<code><a href='summary-amsr-method.html'>summary,amsr-method</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># Show a daytime SST image, along with an indication of whether</span>
<span class='co'># the NA values are from rain.</span>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>oce</span>)
<span class='no'>earth</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='read.amsr.html'>read.amsr</a></span>(<span class='st'>"f34_20160102v7.2.gz"</span>)
<span class='no'>fclat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span>(<span class='no'>earth</span> , <span class='fl'>35</span> <span class='kw'>&lt;=</span> <span class='no'>latitude</span> <span class='kw'>&amp;</span> <span class='no'>latitude</span> <span class='kw'>&lt;=</span> <span class='fl'>55</span>)
<span class='no'>fc</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span>(<span class='no'>fclat</span> , -<span class='fl'>70</span> <span class='kw'>&lt;=</span> <span class='no'>longitude</span> <span class='kw'>&amp;</span> <span class='no'>longitude</span> <span class='kw'>&lt;=</span> -<span class='fl'>30</span>)
<span class='fu'><a href='https://rdrr.io/r/graphics/par.html'>par</a></span>(<span class='kw'>mfrow</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>2</span>, <span class='fl'>1</span>))
<span class='fu'><a href='https://rdrr.io/r/base/plot.html'>plot</a></span>(<span class='no'>fc</span>, <span class='st'>"SSTDay"</span>)
<span class='no'>rainy</span> <span class='kw'>&lt;-</span> <span class='no'>fc</span><span class='kw'>[[</span><span class='st'>"SSTDay"</span>, <span class='st'>"raw"</span>]] <span class='kw'>==</span> <span class='fu'><a href='https://rdrr.io/r/base/raw.html'>as.raw</a></span>(<span class='fl'>0xfb</span>)
<span class='no'>lon</span> <span class='kw'>&lt;-</span> <span class='no'>fc</span><span class='kw'>[[</span><span class='st'>"longitude"</span>]]
<span class='no'>lat</span> <span class='kw'>&lt;-</span> <span class='no'>fc</span><span class='kw'>[[</span><span class='st'>"latitude"</span>]]
<span class='no'>asp</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span> / <span class='fu'><a href='https://rdrr.io/r/base/Trig.html'>cos</a></span>(<span class='no'>pi</span>*<span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span>(<span class='no'>lat</span>)/<span class='fl'>180</span>)
<span class='fu'><a href='imagep.html'>imagep</a></span>(<span class='no'>lon</span>, <span class='no'>lat</span>, <span class='no'>rainy</span>, <span class='kw'>asp</span><span class='kw'>=</span><span class='no'>asp</span>)
<span class='fu'><a href='https://rdrr.io/r/graphics/mtext.html'>mtext</a></span>(<span class='st'>"red: too rainy to sense SSTDay"</span>)
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Dan Kelley, Clark Richards.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


