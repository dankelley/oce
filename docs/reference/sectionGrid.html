<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Grid a Section in Pressure Space — sectionGrid • oce</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Grid a Section in Pressure Space — sectionGrid"><meta property="og:description" content='Grid a section, by interpolating to fixed pressure levels.  The
"approx", "boxcar" and "lm" methods are described in the
documentation for ctdDecimate(), which is used to do this
processing.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">oce</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.7-0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/A_oce.html">1. Introduction to Oce</a>
    </li>
    <li>
      <a href="../articles/B_ctd.html">2. Analysis of CTD data</a>
    </li>
    <li>
      <a href="../articles/C_adp.html">3. Analysis of acoustic-Doppler data</a>
    </li>
    <li>
      <a href="../articles/D_map_projections.html">4. Using map projections</a>
    </li>
    <li>
      <a href="../articles/E_flags.html">5. Dealing with data-quality flags</a>
    </li>
    <li>
      <a href="../articles/F_subclassing.html">6. Subclassing oce objects</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/dankelley/oce/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Grid a Section in Pressure Space</h1>
    <small class="dont-index">Source: <a href="https://github.com/dankelley/oce/blob/HEAD/R/section.R" class="external-link"><code>R/section.R</code></a></small>
    <div class="hidden name"><code>sectionGrid.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Grid a section, by interpolating to fixed pressure levels.  The
<code>"approx"</code>, <code>"boxcar"</code> and <code>"lm"</code> methods are described in the
documentation for <code><a href="ctdDecimate.html">ctdDecimate()</a></code>, which is used to do this
processing.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">sectionGrid</span><span class="op">(</span>
  <span class="va">section</span>,
  <span class="va">p</span>,
  method <span class="op">=</span> <span class="st">"approx"</span>,
  trim <span class="op">=</span> <span class="cn">TRUE</span>,
  debug <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"oceDebug"</span><span class="op">)</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>section</dt>
<dd><p>A <code>section</code> object containing the section to be gridded.</p></dd>
<dt>p</dt>
<dd><p>Optional indication of the pressure levels to which interpolation
should be done.  If this is not supplied, the pressure levels will be
calculated based on the typical spacing in the ctd profiles stored within
<code>section</code>.  If <code>p="levitus"</code>, then pressures will be set to be those
of the Levitus atlas, given by <code><a href="standardDepths.html">standardDepths()</a></code>.
If <code>p</code> is a single numerical value,
it is taken as the number of subdivisions to use in a call to <code><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq()</a></code>
that has range from 0 to the maximum pressure in <code>section</code>.  Finally, if a
vector numerical values is provided, perhaps. constructed with <code><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq()</a></code>
or <code><a href="standardDepths.html">standardDepths</a></code><code>(5)</code> (as in the examples),
then it is used as is, after trimming any values that exceed the maximum
pressure in the station data stored within <code>section</code>.</p></dd>
<dt>method</dt>
<dd><p>The method to use to decimate data within the stations; see
<code><a href="ctdDecimate.html">ctdDecimate()</a></code>, which is used for the decimation.</p></dd>
<dt>trim</dt>
<dd><p>Logical value indicating whether to trim gridded pressures
to the range of the data in <code>section</code>.</p></dd>
<dt>debug</dt>
<dd><p>an integer specifying whether debugging information is
to be printed during the processing. This is a general parameter that
is used by many <code>oce</code> functions. Generally, setting <code>debug=0</code>
turns off the printing, while higher values suggest that more information
be printed. If one function calls another, it usually reduces the value of
<code>debug</code> first, so that a user can often obtain deeper debugging
by specifying higher <code>debug</code> values.</p></dd>
<dt>...</dt>
<dd><p>Optional arguments to be supplied to <code><a href="ctdDecimate.html">ctdDecimate()</a></code>,
e.g. <code>rule</code> controls extrapolation beyond the observed pressure range,
in the case where <code>method</code> equals <code>"approx"</code>.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A <a href="section-class.html">section</a> object that contains stations whose
pressure values match identically, and that has all flags set to <code>NA</code>.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The default <code>"approx"</code> method is best for bottle data, the
<code>"boxcar"</code> is best for ctd data, and the <code>"lm"</code> method is probably
too slow to recommend for exploratory work, in which it is common to do trials
with a variety of <code>"p"</code> values.</p>
<p>The stations in the returned value have flags with names that match those
of the corresponding stations in the original <code>section</code>, but the values
of these flags are all set to <code>NA</code>. This recognizes that it makes
no sense to grid flag values, but that there is merit in initializing
a flag system, for possible use in later processing steps.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other things related to section data: 
<code><a href="sub-sub-section-method.html">[[,section-method</a></code>,
<code>[[&lt;-,section-method</code>,
<code><a href="as.section.html">as.section</a>()</code>,
<code><a href="handleFlags-section-method.html">handleFlags,section-method</a></code>,
<code><a href="initializeFlagScheme-section-method.html">initializeFlagScheme,section-method</a></code>,
<code><a href="plot-section-method.html">plot,section-method</a></code>,
<code><a href="read.section.html">read.section</a>()</code>,
<code><a href="section-class.html">section-class</a></code>,
<code><a href="sectionAddStation.html">sectionAddStation</a>()</code>,
<code><a href="sectionSmooth.html">sectionSmooth</a>()</code>,
<code><a href="sectionSort.html">sectionSort</a>()</code>,
<code><a href="section.html">section</a></code>,
<code><a href="subset-section-method.html">subset,section-method</a></code>,
<code><a href="summary-section-method.html">summary,section-method</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Dan Kelley</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># Gulf Stream</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dankelley.github.io/oce/" class="external-link">oce</a></span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">section</span><span class="op">)</span></span>
<span class="r-in"><span class="va">GS</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">section</span>, <span class="fl">109</span><span class="op">&lt;=</span><span class="va">stationId</span><span class="op">&amp;</span><span class="va">stationId</span><span class="op">&lt;=</span><span class="fl">129</span><span class="op">)</span></span>
<span class="r-in"><span class="va">GSg</span> <span class="op">&lt;-</span> <span class="fu">sectionGrid</span><span class="op">(</span><span class="va">GS</span>, p<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">5000</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">GSg</span>, map.xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">80</span>,<span class="op">-</span><span class="fl">60</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-plt img"><img src="sectionGrid-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span class="co"># Show effects of various depth schemes</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">default</span> <span class="op">&lt;-</span> <span class="fu">sectionGrid</span><span class="op">(</span><span class="va">GS</span><span class="op">)</span></span>
<span class="r-in"><span class="va">approxML</span> <span class="op">&lt;-</span> <span class="fu">sectionGrid</span><span class="op">(</span><span class="va">GS</span>, method<span class="op">=</span><span class="st">"approxML"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">standardDepths5</span> <span class="op">&lt;-</span> <span class="fu">sectionGrid</span><span class="op">(</span><span class="va">GS</span>, p<span class="op">=</span><span class="fu"><a href="standardDepths.html">standardDepths</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">default</span>, which<span class="op">=</span><span class="st">"temperature"</span>, ztype<span class="op">=</span><span class="st">"image"</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">200</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span><span class="st">"default sectionGrid()"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">approxML</span>, which<span class="op">=</span><span class="st">"temperature"</span>, ztype<span class="op">=</span><span class="st">"image"</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">200</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span><span class="st">"sectionGrid(..., method=\"approxML\")"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">standardDepths5</span>, which<span class="op">=</span><span class="st">"temperature"</span>, ztype<span class="op">=</span><span class="st">"image"</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">200</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span><span class="st">"sectionGrid(..., p=standardDepths(5))"</span><span class="op">)</span></span>
<span class="r-plt img"><img src="sectionGrid-2.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Dan Kelley, Clark Richards.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

