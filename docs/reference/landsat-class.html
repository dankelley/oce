<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Class to Store landsat Data — landsat-class • oce</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Class to Store landsat Data — landsat-class"><meta property="og:description" content="This class holds landsat data. Such are available at several
websites (e.g. reference 1).
Although the various functions may work for other satellites, the
discussion here focusses on Landsat 8 and Landsat 7."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">oce</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.8-2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/A_oce.html">1. Introduction to Oce</a>
    </li>
    <li>
      <a href="../articles/B_ctd.html">2. Analysis of CTD data</a>
    </li>
    <li>
      <a href="../articles/C_adp.html">3. Analysis of acoustic-Doppler data</a>
    </li>
    <li>
      <a href="../articles/D_map_projections.html">4. Using map projections</a>
    </li>
    <li>
      <a href="../articles/E_flags.html">5. Dealing with data-quality flags</a>
    </li>
    <li>
      <a href="../articles/F_subclassing.html">6. Subclassing oce objects</a>
    </li>
    <li>
      <a href="../articles/G_altering_defaults.html">7. Altering oce Defaults</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/dankelley/oce/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Class to Store landsat Data</h1>
    <small class="dont-index">Source: <a href="https://github.com/dankelley/oce/blob/HEAD/R/landsat.R" class="external-link"><code>R/landsat.R</code></a></small>
    <div class="hidden name"><code>landsat-class.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This class holds landsat data. Such are available at several
websites (e.g. reference 1).
Although the various functions may work for other satellites, the
discussion here focusses on Landsat 8 and Landsat 7.</p>
    </div>


    <div id="slots">
    <h2>Slots</h2>
    

<dl><dt><code>data</code></dt>
<dd><p>As with all <code>oce</code> objects, the <code>data</code> slot
for <code>landsat</code> objects is a
<a href="https://rdrr.io/r/base/list.html" class="external-link">list</a> containing the main data for the object.</p></dd>


<dt><code>metadata</code></dt>
<dd><p>As with all <code>oce</code> objects, the <code>metadata</code> slot
for <code>landsat</code> objects is a <a href="https://rdrr.io/r/base/list.html" class="external-link">list</a> containing
information about the <code>data</code> or about the object itself.</p></dd>


<dt><code>processingLog</code></dt>
<dd><p>As with all <code>oce</code> objects, the <code>processingLog</code> slot
for <code>landsat</code> objects is a
<a href="https://rdrr.io/r/base/list.html" class="external-link">list</a> with entries describing the creation and evolution
of the object. The contents are updated by various <code>oce</code> functions to
keep a record of processing steps.  Object summaries and
<code><a href="processingLogShow.html">processingLogShow()</a></code> both display the log.</p></dd>


</dl></div>
    <div id="modifying-slot-contents">
    <h2>Modifying slot contents</h2>
    


<p>Although the <code>[[&lt;-</code> operator may permit modification of the contents
of landsat objects (see <code>[[&lt;-,landsat-method</code>),
it is better to use <code><a href="oceSetData.html">oceSetData()</a></code> and <code><a href="oceSetMetadata.html">oceSetMetadata()</a></code>,
because those functions save an entry in the <code>processingLog</code>
that describes the change.</p>
    </div>
    <div id="retrieving-slot-contents">
    <h2>Retrieving slot contents</h2>
    


<p>The full contents of the <code>data</code> and <code>metadata</code> slots of a landsat
object may be retrieved in the standard R way using <code><a href="https://rdrr.io/r/methods/slot.html" class="external-link">slot()</a></code>. For
example <code>slot(o,"data")</code> returns the <code>data</code> slot of an object named <code>o</code>,
and similarly <code>slot(o,"metadata")</code> returns
the <code>metadata</code> slot.</p>
<p>The slots may also be obtained with the <code><a href="sub-sub-landsat-method.html">[[,landsat-method</a></code>
operator, as e.g. <code>o[["data"]]</code> and <code>o[["metadata"]]</code>, respectively.</p>
<p>The <code><a href="sub-sub-landsat-method.html">[[,landsat-method</a></code> operator can also
be used to retrieve items from within the <code>data</code> and <code>metadata</code> slots.
For example, <code>o[["temperature"]]</code> can be used to retrieve temperature
from an object containing that quantity. The rule is that a named
quantity is sought first within the object's <code>metadata</code> slot,
with the <code>data</code> slot being checked only if <code>metadata</code> does not
contain the item. This <code>[[</code> method can also be used to get
certain derived quantities, if the object contains sufficient
information to calculate them. For example, an object that holds
(practical) salinity, temperature and pressure, along with
longitude and latitude, has sufficient information to compute
Absolute Salinity, and so <code>o[["SA"]]</code> will yield the
calculated Absolute Salinity.</p>
<p>It is also possible to find items more directly, using <code><a href="oceGetData.html">oceGetData()</a></code> and
<code><a href="oceGetMetadata.html">oceGetMetadata()</a></code>, but neither of these functions can
retrieve derived items.</p>
    </div>
    <div id="data-storage">
    <h2>Data storage</h2>
    


<p>The data are stored with 16-bit resolution.  Oce
breaks these 16 bits up into most-significant and least-significant bytes.
For example, the aerosol band of a Landsat object named <code>x</code> are
contained within <code>x@data$aerosol$msb</code> and <code>x@data$aerosol$lsb</code>,
each of which is a matrix of raw values.  The results may be combined as e.g.</p><div class="sourceCode"><pre><code><span></span>
<span><span class="fl">256L</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="va">x</span><span class="op">@</span><span class="va">data</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">msb</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="va">x</span><span class="op">@</span><span class="va">data</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">lsb</span><span class="op">)</span></span></code></pre></div><p>and this is what is returned by executing <code>x[["aerosol"]]</code>.</p>
<p>Landsat data files typically occupy approximately a
gigabyte of storage.  That means that corresponding Oce objects are about
the same size, and this can pose significant problems on computers with
less than 8GB of memory.  It is sensible to specify bands of interest when
reading data with <code><a href="read.landsat.html">read.landsat()</a></code>, and also to use
<code><a href="landsatTrim.html">landsatTrim()</a></code> to isolate geographical regions that need
processing.</p>
<p>Experts may need to get direct access to the data, and this is easy because
all Landsat objects (regardless of satellite) use a similar storage form.
Band information is stored in byte form, to conserve space.  Two bytes are
used for each pixel in Landsat-8 objects, with just one for other objects.
For example, if a Landsat-8 object named <code>L</code> contains the <code>tirs1</code>
band, the most- and least-significant bytes will be stored in matrices
<code>L@data$tirs1$msb</code> and <code>L@data$tirs1$lsb</code>.  A similar Landsat-7
object would have the same items, but <code>msb</code> would be just the value
<code>0x00</code>.</p>
<p>Derived bands, which may be added to a landsat object with
<code><a href="landsatAdd.html">landsatAdd()</a></code>, are not stored in byte matrices.  Instead they
are stored in numerical matrices, which means that they use 4X more storage
space for Landsat-8 images, and 8X more storage space for other satellites.
A computer needs at least 8GB of RAM to work with such data.</p>
    </div>
    <div id="landsat-">
    <h2>Landsat 8</h2>
    


<p>The Landsat 8 satellite has 11 frequency bands, listed below (see reference 2]).</p><div class="sourceCode"><pre><code>
.------------------------------------------------------------------------------.
| Band | Band                      | Band         | Wavelength    | Resolution |
| No.  | Contents                  | Name         | (micrometers) |   (meters) |
|------+---------------------------+--------------+---------------+------------|
|    1 | Coastal aerosol           | aerosol      |  0.43 -  0.45 |         30 |
|    2 | Blue                      | blue         |  0.45 -  0.51 |         30 |
|    3 | Green                     | green        |  0.53 -  0.59 |         30 |
|    4 | Red                       | red          |  0.64 -  0.67 |         30 |
|    5 | Near Infrared (NIR)       | nir          |  0.85 -  0.88 |         30 |
|    6 | SWIR 1                    | swir1        |  1.57 -  1.65 |         30 |
|    7 | SWIR 2                    | swir2        |  2.11 -  2.29 |         30 |
|    8 | Panchromatic              | panchromatic |  0.50 -  0.68 |         15 |
|    9 | Cirrus                    | cirrus       |  1.36 -  1.38 |         30 |
|   10 | Thermal Infrared (TIRS) 1 | tirs1        | 10.60 - 11.19 |        100 |
|   11 | Thermal Infrared (TIRS) 2 | tirs2        | 11.50 - 12.51 |        100 |
.------------------------------------------------------------------------------.
</code></pre></div><p>In addition to the above, setting <code>band="terralook"</code> may be used as
an abbreviation for <code>band=c("red", "green", "nir")</code>.</p>
<p>Band 8 is panchromatic, and has the highest resolution.  For convenience of
programming, <code><a href="read.landsat.html">read.landsat()</a></code> subsamples the <code>tirs1</code> and
<code>tirs2</code> bands to the 30m resolution of the other bands.  See Reference
3 for information about the evolution of Landsat 8 calibration
coefficients, which as of summer 2014 are still subject to change.</p>
    </div>
    <div id="landsat-">
    <h2>Landsat 7</h2>
    


<p>Band information is as follows (from reference 8).  The names are not official, but
are set up to roughly correspond with Landsat-8 names, according to wavelength.
An exception is the Landsat-7 bands named <code>tirs1</code> and <code>tirs2</code>, which
are at two different gain settings, with identical wavelength span for
each, which roughly matches the range of the Landsat-8 bands <code>tirs1</code>
and <code>tirs2</code> combined.  This may seem confusing, but it lets code like
<code>plot(im, band="tirs1")</code> to work with both Landsat-8 and Landsat-7.</p>
<div class="sourceCode"><pre><code>
.------------------------------------------------------------------------------.
| Band | Band                      | Band         | Wavelength    | Resolution |
| No.  | Contents                  | Name         | (micrometers) |   (meters) |
|------+---------------------------+--------------+---------------+------------|
|    1 | Blue                      | blue         |  0.45 -  0.52 |         30 |
|    2 | Green                     | green        |  0.52 -  0.60 |         30 |
|    3 | Red                       | red          |  0.63 -  0.69 |         30 |
|    4 | Near IR                   | nir          |  0.77 -  0.90 |         30 |
|    5 | SWIR                      | swir1        |  1.55 -  1.75 |         30 |
|    6 | Thermal IR                | tirs1        | 10.4  - 12.50 |         30 |
|    7 | Thermal IR                | tirs2        | 10.4  - 12.50 |         30 |
|    8 | SWIR                      | swir2        |  2.09 -  2.35 |         30 |
|    9 | Panchromatic              | panchromatic |  0.52 -  0.90 |         15 |
.------------------------------------------------------------------------------.
</code></pre></div>

    </div>
    <div id="references">
    <h2>References</h2>
    
<ol><li><p>See the USGS "glovis" web site.</p></li>
<li><p>see landsat.gsfc.nasa.gov/?page_id=5377</p></li>
<li><p>see landsat.usgs.gov/calibration_notices.php</p></li>
<li><p><code>https://dankelley.github.io/r/2014/07/01/landsat.html</code></p></li>
<li><p><code>https://scienceofdoom.com/2010/12/27/emissivity-of-the-ocean/</code></p></li>
<li><p>see landsat.usgs.gov/Landsat8_Using_Product.php</p></li>
<li><p>see landsathandbook.gsfc.nasa.gov/pdfs/Landsat7_Handbook.pdf</p></li>
<li><p>see landsat.usgs.gov/band_designations_landsat_satellites.php</p></li>
<li><p>Yu, X. X. Guo and Z. Wu., 2014. Land Surface Temperature Retrieval from
Landsat 8 TIRS-Comparison between Radiative Transfer Equation-Based Method,
Split Window Algorithm and Single Channel Method, <em>Remote Sensing</em>, 6,
9829-9652.  <code>https://www.mdpi.com/2072-4292/6/10/9829</code></p></li>
<li><p>Rajeshwari, A., and N. D. Mani, 2014.  Estimation of land surface
temperature of Dindigul district using Landsat 8 data. <em>International
Journal of Research in Engineering and Technology</em>, 3(5), 122-126.
<code>http://www.academia.edu/7655089/ESTIMATION_OF_LAND_SURFACE_TEMPERATURE_OF_DINDIGUL_DISTRICT_USING_LANDSAT_8_DATA</code></p></li>
<li><p>Konda, M. Imasato N., Nishi, K., and T. Toda, 1994.  Measurement of the Sea
Surface Emissivity.  <em>Journal of Oceanography</em>, 50, 17:30.
<a href="https://doi.org/10.1007/BF02233853" class="external-link">doi:10.1007/BF02233853</a></p></li>
</ol></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Data from AMSR satellites are handled with <a href="amsr-class.html">amsr</a>.</p>
<p>A file containing Landsat data may be read with <code><a href="read.landsat.html">read.landsat()</a></code> or
<code><a href="read.oce.html">read.oce()</a></code>, and one such file is provided by the <a href="https://CRAN.R-project.org/package=ocedata" class="external-link"><span class="pkg">ocedata</span></a>
package as a dataset named <code>landsat</code>.</p>
<p>Plots may be made with <code><a href="plot-landsat-method.html">plot,landsat-method()</a></code>.  Since plotting can be quite
slow, decimation is available both in the plotting function and as the separate
function <code><a href="decimate.html">decimate()</a></code>.  Images may be subsetted with
<code><a href="landsatTrim.html">landsatTrim()</a></code>.</p>
<p>Other classes holding satellite data: 
<code><a href="amsr-class.html">amsr-class</a></code>,
<code><a href="g1sst-class.html">g1sst-class</a></code>,
<code><a href="satellite-class.html">satellite-class</a></code></p>
<p>Other things related to landsat data: 
<code><a href="sub-sub-landsat-method.html">[[,landsat-method</a></code>,
<code>[[&lt;-,landsat-method</code>,
<code><a href="landsatAdd.html">landsatAdd</a>()</code>,
<code><a href="landsatTrim.html">landsatTrim</a>()</code>,
<code><a href="landsat.html">landsat</a></code>,
<code><a href="plot-landsat-method.html">plot,landsat-method</a></code>,
<code><a href="read.landsat.html">read.landsat</a>()</code>,
<code><a href="summary-landsat-method.html">summary,landsat-method</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Dan Kelley and Clark Richards</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Dan Kelley, Clark Richards.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

