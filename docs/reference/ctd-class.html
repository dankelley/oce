<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Class to Store CTD (or general hydrographic) Data — ctd-class • oce</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Class to Store CTD (or general hydrographic) Data — ctd-class"><meta name="description" content="This class stores hydrographic data such as measured with a CTD (conductivity,
temperature, depth) instrument, or with other systems that produce
similar data.  Data repositories may store conductivity, temperature
and depth, as in the instrument name, but it is also common to store
salinity, temperature and pressure instead (or in addition). For this
reason, ctd objects are required to hold salinity,
temperature and pressure in their data slot,
with other data being optional. Formulae are available for converting
between variants of these data triplets, e.g. swSCTp()
can calculate salinity given conductivity, temperature
and pressure, and these are used by the main functions that
create ctd objects. For example, if read.ctd.sbe()
is used to read a Seabird file that contains only conductivity, temperature
and pressure, then that function will automatically append a data
item to hold salinity.  Since as.ctd() does the same with
salinity, the result this is that all ctd objects hold salinity,
temperature and pressure, which are henceforth called
the three basic quantities."><meta property="og:description" content="This class stores hydrographic data such as measured with a CTD (conductivity,
temperature, depth) instrument, or with other systems that produce
similar data.  Data repositories may store conductivity, temperature
and depth, as in the instrument name, but it is also common to store
salinity, temperature and pressure instead (or in addition). For this
reason, ctd objects are required to hold salinity,
temperature and pressure in their data slot,
with other data being optional. Formulae are available for converting
between variants of these data triplets, e.g. swSCTp()
can calculate salinity given conductivity, temperature
and pressure, and these are used by the main functions that
create ctd objects. For example, if read.ctd.sbe()
is used to read a Seabird file that contains only conductivity, temperature
and pressure, then that function will automatically append a data
item to hold salinity.  Since as.ctd() does the same with
salinity, the result this is that all ctd objects hold salinity,
temperature and pressure, which are henceforth called
the three basic quantities."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">oce</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.8-4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/A_oce.html">1. Introduction to Oce</a></li>
    <li><a class="dropdown-item" href="../articles/B_ctd.html">2. Analysis of CTD data</a></li>
    <li><a class="dropdown-item" href="../articles/C_adp.html">3. Analysis of acoustic-Doppler data</a></li>
    <li><a class="dropdown-item" href="../articles/D_map_projections.html">4. Using map projections</a></li>
    <li><a class="dropdown-item" href="../articles/E_flags.html">5. Dealing with data-quality flags</a></li>
    <li><a class="dropdown-item" href="../articles/F_subclassing.html">6. Subclassing oce objects</a></li>
    <li><a class="dropdown-item" href="../articles/G_altering_defaults.html">7. Altering oce Defaults</a></li>
    <li><a class="dropdown-item" href="../articles/H_tides.html">8. Tidal Analysis</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dankelley/oce/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Class to Store CTD (or general hydrographic) Data</h1>
      <small class="dont-index">Source: <a href="https://github.com/dankelley/oce/blob/HEAD/R/ctd.R" class="external-link"><code>R/ctd.R</code></a></small>
      <div class="d-none name"><code>ctd-class.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This class stores hydrographic data such as measured with a CTD (conductivity,
temperature, depth) instrument, or with other systems that produce
similar data.  Data repositories may store conductivity, temperature
and depth, as in the instrument name, but it is also common to store
salinity, temperature and pressure instead (or in addition). For this
reason, <code>ctd</code> objects are required to hold <code>salinity</code>,
<code>temperature</code> and <code>pressure</code> in their <code>data</code> slot,
with other data being optional. Formulae are available for converting
between variants of these data triplets, e.g. <code><a href="swSCTp.html">swSCTp()</a></code>
can calculate <code>salinity</code> given <code>conductivity</code>, <code>temperature</code>
and <code>pressure</code>, and these are used by the main functions that
create <code>ctd</code> objects. For example, if <code><a href="read.ctd.sbe.html">read.ctd.sbe()</a></code>
is used to read a Seabird file that contains only conductivity, temperature
and pressure, then that function will automatically append a data
item to hold salinity.  Since <code><a href="as.ctd.html">as.ctd()</a></code> does the same with
salinity, the result this is that all <code>ctd</code> objects hold <code>salinity</code>,
<code>temperature</code> and <code>pressure</code>, which are henceforth called
the three basic quantities.</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Different units and scales are permitted for the three basic quantities, and
most <code>oce</code> functions check those units and scales before
doing calculations (e.g. of seawater density), because those calculations
demand certain units and scales. The way this is handled is that the
accessor function <code><a href="sub-sub-ctd-method.html">[[,ctd-method</a></code>] returns values in standardized
form. For example, a <code>ctd</code> object might hold temperature defined on the
IPTS-68 scale, but e.g. <code>ctd[["temperature"]]</code> returns a value on the ITS-90
scale. (The conversion is done with <code><a href="T90fromT68.html">T90fromT68()</a></code>.)  Similarly,
pressure may be stored in either dbars or PSI, but e.g. <code>ctd[["pressure"]]</code>
returns a value in dbars, after dividing by 0.689476 if the value is
stored in PSI. Luckily, there is (as of early 2016) only one salinity scale in
common use in data files, namely PSS-78.</p>
    </div>
    <div class="section level2">
    <h2 id="slots">Slots<a class="anchor" aria-label="anchor" href="#slots"></a></h2>


<dl><dt><code>data</code></dt>
<dd><p>As with all <code>oce</code> objects, the <code>data</code> slot
for <code>ctd</code> objects is a
<a href="https://rdrr.io/r/base/list.html" class="external-link">list</a> containing the main data for the object.
The key items stored in this slot are: <code>salinity</code>, <code>temperature</code>, and <code>pressure</code>, although in many instances there are quite a few additional items.</p></dd>


<dt><code>metadata</code></dt>
<dd><p>As with all <code>oce</code> objects, the <code>metadata</code> slot
for <code>ctd</code> objects is a <a href="https://rdrr.io/r/base/list.html" class="external-link">list</a> containing
information about the <code>data</code> or about the object itself.
An example of the former might be the location at which a <code>ctd</code> measurement was made, stored in <code>longitude</code> and <code>latitude</code>, and of the latter might be <code>filename</code>, the name of the data source.</p></dd>


<dt><code>processingLog</code></dt>
<dd><p>As with all <code>oce</code> objects, the <code>processingLog</code> slot
for <code>ctd</code> objects is a
<a href="https://rdrr.io/r/base/list.html" class="external-link">list</a> with entries describing the creation and evolution
of the object. The contents are updated by various <code>oce</code> functions to
keep a record of processing steps.  Object summaries and
<code><a href="processingLogShow.html">processingLogShow()</a></code> both display the log.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="modifying-slot-contents">Modifying slot contents<a class="anchor" aria-label="anchor" href="#modifying-slot-contents"></a></h2>



<p>Although the <code>[[&lt;-</code> operator may permit modification of the contents
of ctd objects (see <code>[[&lt;-,ctd-method</code>),
it is better to use <code><a href="oceSetData.html">oceSetData()</a></code> and <code><a href="oceSetMetadata.html">oceSetMetadata()</a></code>,
because those functions save an entry in the <code>processingLog</code>
that describes the change.</p>
    </div>
    <div class="section level2">
    <h2 id="retrieving-slot-contents">Retrieving slot contents<a class="anchor" aria-label="anchor" href="#retrieving-slot-contents"></a></h2>



<p>The full contents of the <code>data</code> and <code>metadata</code> slots of a ctd
object may be retrieved in the standard R way using <code><a href="https://rdrr.io/r/methods/slot.html" class="external-link">slot()</a></code>. For
example <code>slot(o,"data")</code> returns the <code>data</code> slot of an object named <code>o</code>,
and similarly <code>slot(o,"metadata")</code> returns
the <code>metadata</code> slot.</p>
<p>The slots may also be obtained with the <code><a href="sub-sub-ctd-method.html">[[,ctd-method</a></code>
operator, as e.g. <code>o[["data"]]</code> and <code>o[["metadata"]]</code>, respectively.</p>
<p>The <code><a href="sub-sub-ctd-method.html">[[,ctd-method</a></code> operator can also
be used to retrieve items from within the <code>data</code> and <code>metadata</code> slots.
For example, <code>o[["temperature"]]</code> can be used to retrieve temperature
from an object containing that quantity. The rule is that a named
quantity is sought first within the object's <code>metadata</code> slot,
with the <code>data</code> slot being checked only if <code>metadata</code> does not
contain the item. This <code>[[</code> method can also be used to get
certain derived quantities, if the object contains sufficient
information to calculate them. For example, an object that holds
(practical) salinity, temperature and pressure, along with
longitude and latitude, has sufficient information to compute
Absolute Salinity, and so <code>o[["SA"]]</code> will yield the
calculated Absolute Salinity.</p>
<p>It is also possible to find items more directly, using <code><a href="oceGetData.html">oceGetData()</a></code> and
<code><a href="oceGetMetadata.html">oceGetMetadata()</a></code>, but neither of these functions can
retrieve derived items.</p>
    </div>
    <div class="section level2">
    <h2 id="reading-creating-ctd-objects">Reading/creating <code>ctd</code> objects<a class="anchor" aria-label="anchor" href="#reading-creating-ctd-objects"></a></h2>


<p>A file containing CTD profile data may be read with
<code><a href="read.ctd.html">read.ctd()</a></code>, and a CTD object can also be created with
<code><a href="as.ctd.html">as.ctd()</a></code>.  See <code><a href="read.ctd.html">read.ctd()</a></code> for references on data
formats used in CTD files. Data can also be assembled into
<code>ctd</code> objects with <code><a href="as.ctd.html">as.ctd()</a></code>.</p>
<p>Statistical summaries are provided by <code><a href="summary-ctd-method.html">summary,ctd-method()</a></code>, while
<code><a href="https://rdrr.io/r/methods/show.html" class="external-link">show()</a></code> displays an overview.</p>
<p>CTD objects may be plotted with <code><a href="plot-ctd-method.html">plot,ctd-method()</a></code>, which does much of its
work by calling <code><a href="plotProfile.html">plotProfile()</a></code> or <code><a href="plotTS.html">plotTS()</a></code>, both of
which can also be called by the user, to get fine control over the plots.</p>
<p>A CTD profile can be isolated from a larger record with <code><a href="ctdTrim.html">ctdTrim()</a></code>,
a task made easier when <code><a href="plotScan.html">plotScan()</a></code> is used to examine the results.
Towyow data can be split up into sets of profiles (ascending or descending)
with <code><a href="ctdFindProfiles.html">ctdFindProfiles()</a></code>.  CTD data may be smoothed and/or cast onto
specified pressure levels with <code><a href="ctdDecimate.html">ctdDecimate()</a></code>.</p>
<p>As with all oce objects, low-level manipulation may be done with
<code><a href="oceSetData.html">oceSetData()</a></code> and <code><a href="oceSetMetadata.html">oceSetMetadata()</a></code>. Additionally,
many of the contents of CTD objects may be altered with the
<code>[[&lt;-,ctd-method</code> scheme,
and sufficiently skilled users may even manipulate the contents directly.</p>
    </div>
    <div class="section level2">
    <h2 id="data-sources">Data sources<a class="anchor" aria-label="anchor" href="#data-sources"></a></h2>



<p>Archived CTD (and other) data may be found on servers such as</p><ol><li><p><code>https://cchdo.ucsd.edu/</code></p></li>
</ol></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other things related to ctd data:
<code><a href="CTD_BCD2014666_008_1_DN.ODF.gz.html">CTD_BCD2014666_008_1_DN.ODF.gz</a></code>,
<code><a href="sub-sub-ctd-method.html">[[,ctd-method</a></code>,
<code>[[&lt;-,ctd-method</code>,
<code><a href="as.ctd.html">as.ctd</a>()</code>,
<code><a href="cnvName2oceName.html">cnvName2oceName</a>()</code>,
<code><a href="ctd.html">ctd</a></code>,
<code><a href="ctd.cnv.gz.html">ctd.cnv.gz</a></code>,
<code><a href="ctdDecimate.html">ctdDecimate</a>()</code>,
<code><a href="ctdFindProfiles.html">ctdFindProfiles</a>()</code>,
<code><a href="ctdFindProfilesRBR.html">ctdFindProfilesRBR</a>()</code>,
<code><a href="ctdRaw.html">ctdRaw</a></code>,
<code><a href="ctdRepair.html">ctdRepair</a>()</code>,
<code><a href="ctdTrim.html">ctdTrim</a>()</code>,
<code><a href="ctd_aml_type1.csv.gz.html">ctd_aml_type1.csv.gz</a></code>,
<code><a href="ctd_aml_type3.csv.gz.html">ctd_aml_type3.csv.gz</a></code>,
<code><a href="d200321-001.ctd.gz.html">d200321-001.ctd.gz</a></code>,
<code><a href="d201211_0011.cnv.gz.html">d201211_0011.cnv.gz</a></code>,
<code><a href="handleFlags-ctd-method.html">handleFlags,ctd-method</a></code>,
<code><a href="initialize-ctd-method.html">initialize,ctd-method</a></code>,
<code><a href="initializeFlagScheme-ctd-method.html">initializeFlagScheme,ctd-method</a></code>,
<code><a href="oceNames2whpNames.html">oceNames2whpNames</a>()</code>,
<code><a href="oceUnits2whpUnits.html">oceUnits2whpUnits</a>()</code>,
<code><a href="plot-ctd-method.html">plot,ctd-method</a></code>,
<code><a href="plotProfile.html">plotProfile</a>()</code>,
<code><a href="plotScan.html">plotScan</a>()</code>,
<code><a href="plotTS.html">plotTS</a>()</code>,
<code><a href="read.ctd.html">read.ctd</a>()</code>,
<code><a href="read.ctd.aml.html">read.ctd.aml</a>()</code>,
<code><a href="read.ctd.itp.html">read.ctd.itp</a>()</code>,
<code><a href="read.ctd.odf.html">read.ctd.odf</a>()</code>,
<code><a href="read.ctd.odv.html">read.ctd.odv</a>()</code>,
<code><a href="read.ctd.saiv.html">read.ctd.saiv</a>()</code>,
<code><a href="read.ctd.sbe.html">read.ctd.sbe</a>()</code>,
<code><a href="read.ctd.ssda.html">read.ctd.ssda</a>()</code>,
<code><a href="read.ctd.woce.html">read.ctd.woce</a>()</code>,
<code><a href="read.ctd.woce.other.html">read.ctd.woce.other</a>()</code>,
<code><a href="setFlags-ctd-method.html">setFlags,ctd-method</a></code>,
<code><a href="subset-ctd-method.html">subset,ctd-method</a></code>,
<code><a href="summary-ctd-method.html">summary,ctd-method</a></code>,
<code><a href="woceNames2oceNames.html">woceNames2oceNames</a>()</code>,
<code><a href="woceUnit2oceUnit.html">woceUnit2oceUnit</a>()</code>,
<code><a href="write.ctd.html">write.ctd</a>()</code></p>
<p>Other classes provided by oce:
<code><a href="adp-class.html">adp-class</a></code>,
<code><a href="adv-class.html">adv-class</a></code>,
<code><a href="argo-class.html">argo-class</a></code>,
<code><a href="bremen-class.html">bremen-class</a></code>,
<code><a href="cm-class.html">cm-class</a></code>,
<code><a href="coastline-class.html">coastline-class</a></code>,
<code><a href="lisst-class.html">lisst-class</a></code>,
<code><a href="lobo-class.html">lobo-class</a></code>,
<code><a href="met-class.html">met-class</a></code>,
<code><a href="oce-class.html">oce-class</a></code>,
<code><a href="odf-class.html">odf-class</a></code>,
<code><a href="rsk-class.html">rsk-class</a></code>,
<code><a href="sealevel-class.html">sealevel-class</a></code>,
<code><a href="section-class.html">section-class</a></code>,
<code><a href="topo-class.html">topo-class</a></code>,
<code><a href="windrose-class.html">windrose-class</a></code>,
<code><a href="xbt-class.html">xbt-class</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Dan Kelley</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 1. Create a ctd object with fake data.</span></span></span>
<span class="r-in"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="as.ctd.html">as.ctd</a></span><span class="op">(</span>salinity <span class="op">=</span> <span class="fl">35</span> <span class="op">+</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span> <span class="op">/</span> <span class="fl">10</span>, temperature <span class="op">=</span> <span class="fl">10</span> <span class="op">-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span> <span class="op">/</span> <span class="fl">10</span>, pressure <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CTD Summary</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Data Overview</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                              Min. Mean Max. Dim. NAs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     scan                     1    2    3    3    0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     salinity [PSS-78]        35.1 35.2 35.3 3    0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     temperature [°C, ITS-90] 9.7  9.8  9.9  3    0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pressure [dbar]          1    2    3    3    0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Processing Log</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - 2024-09-21 14:04:23 UTC: `create 'ctd' object`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - 2024-09-21 14:04:23 UTC: `as.ctd(salinity = 35 + 1:3/10, temperature = 10 - 1:3/10, pressure = 1:3)`</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 2. Fix a typo in a station latitude (fake! it's actually okay)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">ctd</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ctd</span> <span class="op">&lt;-</span> <span class="fu"><a href="oceSetMetadata.html">oceSetMetadata</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">ctd</span>, <span class="st">"latitude"</span>, <span class="va">ctd</span><span class="op">[[</span><span class="st">"latitude"</span><span class="op">]</span><span class="op">]</span> <span class="op">-</span> <span class="fl">0.001</span>,</span></span>
<span class="r-in"><span>    <span class="st">"fix latitude typo in log book"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dan Kelley, Clark Richards.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.9000.</p>
</div>

    </footer></div>





  </body></html>

