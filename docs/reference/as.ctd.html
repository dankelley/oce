<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Coerce Data Into a ctd Object — as.ctd • oce</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Coerce Data Into a ctd Object — as.ctd"><meta name="description" content="Assemble data into a ctd object.  This function is complicated
(spanning approximately 500 lines of code) because it tries to handle many
special cases, and tries to make sensible defaults for unspecified
parameters.  If odd results are found, users might find it helpful to call
this function with the first argument being a simple vector of Practical
Salinity values, in which case the processing of the other arguments is
relatively straightforward."><meta property="og:description" content="Assemble data into a ctd object.  This function is complicated
(spanning approximately 500 lines of code) because it tries to handle many
special cases, and tries to make sensible defaults for unspecified
parameters.  If odd results are found, users might find it helpful to call
this function with the first argument being a simple vector of Practical
Salinity values, in which case the processing of the other arguments is
relatively straightforward."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">oce</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.8-4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/A_oce.html">1. Introduction to Oce</a></li>
    <li><a class="dropdown-item" href="../articles/B_ctd.html">2. Analysis of CTD data</a></li>
    <li><a class="dropdown-item" href="../articles/C_adp.html">3. Analysis of acoustic-Doppler data</a></li>
    <li><a class="dropdown-item" href="../articles/D_map_projections.html">4. Using map projections</a></li>
    <li><a class="dropdown-item" href="../articles/E_flags.html">5. Dealing with data-quality flags</a></li>
    <li><a class="dropdown-item" href="../articles/F_subclassing.html">6. Subclassing oce objects</a></li>
    <li><a class="dropdown-item" href="../articles/G_altering_defaults.html">7. Altering oce Defaults</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dankelley/oce/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Coerce Data Into a ctd Object</h1>
      <small class="dont-index">Source: <a href="https://github.com/dankelley/oce/blob/HEAD/R/ctd.R" class="external-link"><code>R/ctd.R</code></a></small>
      <div class="d-none name"><code>as.ctd.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Assemble data into a <a href="ctd-class.html">ctd</a> object.  This function is complicated
(spanning approximately 500 lines of code) because it tries to handle many
special cases, and tries to make sensible defaults for unspecified
parameters.  If odd results are found, users might find it helpful to call
this function with the first argument being a simple vector of Practical
Salinity values, in which case the processing of the other arguments is
relatively straightforward.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">as.ctd</span><span class="op">(</span></span>
<span>  <span class="va">salinity</span>,</span>
<span>  temperature <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pressure <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  conductivity <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  scan <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  time <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  units <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  flags <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  missingValue <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  type <span class="op">=</span> <span class="st">""</span>,</span>
<span>  serialNumber <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ship <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cruise <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  station <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  startTime <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  longitude <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  latitude <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  deploymentType <span class="op">=</span> <span class="st">"unknown"</span>,</span>
<span>  pressureAtmospheric <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  sampleInterval <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  profile <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  debug <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"oceDebug"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-salinity">salinity<a class="anchor" aria-label="anchor" href="#arg-salinity"></a></dt>
<dd><p>may be (1) a numeric vector holding Practical Salinity,
(2) a list or data frame holding <code>salinity</code> and other
hydrographic variables or (3) an <code>oce-class</code> object that holds
hydrographic information. If <code>salinity</code> is not provided,
then <code>conductivity</code> must be provided, so that <code><a href="swSCTp.html">swSCTp()</a></code>
can be used to compute salinity.</p></dd>


<dt id="arg-temperature">temperature<a class="anchor" aria-label="anchor" href="#arg-temperature"></a></dt>
<dd><p>a numeric vector containing <em>in-situ</em> temperature in
\(^\circ\)C on the ITS-90 scale; see “Temperature units” in the
documentation for <code><a href="swRho.html">swRho()</a></code>.</p></dd>


<dt id="arg-pressure">pressure<a class="anchor" aria-label="anchor" href="#arg-pressure"></a></dt>
<dd><p>a numeric vector containing sea pressure values, in decibars.
Typically, this vector has the same length as <code>salinity</code> and <code>temperature</code>,
but it also possible to supply just one value, which will be repeated
to get the right length. Note that <code>as.ctd()</code> stores the
sum of <code>pressure</code> and <code>pressureAtmospheric</code> in the returned object,
although the default value for <code>pressureAtmospheric</code> is zero, so
in the default case, <code>pressure</code> is stored directly.</p></dd>


<dt id="arg-conductivity">conductivity<a class="anchor" aria-label="anchor" href="#arg-conductivity"></a></dt>
<dd><p>an optional numeric vector containing electrical
conductivity ratio through the water column. To convert from raw conductivity
in milliSeimens per centimeter divide by 42.914 to get conductivity ratio
(see Culkin and Smith, 1980).</p></dd>


<dt id="arg-scan">scan<a class="anchor" aria-label="anchor" href="#arg-scan"></a></dt>
<dd><p>optional numeric vector holding scan number.  If not provided,
this is set to <a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a><code>(salinity)</code>.</p></dd>


<dt id="arg-time">time<a class="anchor" aria-label="anchor" href="#arg-time"></a></dt>
<dd><p>optional vector of times of observation.</p></dd>


<dt id="arg-units">units<a class="anchor" aria-label="anchor" href="#arg-units"></a></dt>
<dd><p>an optional list containing units.  If not supplied,
defaults are set for <code>pressure</code>, <code>temperature</code>, <code>salinity</code>,
and <code>conductivity</code>. Since these are simply guesses, users
are advised strongly to supply <code>units</code>. See “Examples”.</p></dd>


<dt id="arg-flags">flags<a class="anchor" aria-label="anchor" href="#arg-flags"></a></dt>
<dd><p>if supplied, this is a <a href="https://rdrr.io/r/base/list.html" class="external-link">list</a> containing data-quality
flags. The elements of this list must have names that match the data
provided to the object.</p></dd>


<dt id="arg-missingvalue">missingValue<a class="anchor" aria-label="anchor" href="#arg-missingvalue"></a></dt>
<dd><p>optional missing value, indicating data that should be
taken as <code>NA</code>. Set to <code>NULL</code> to turn off this feature.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>optional type of CTD, e.g. "SBE"</p></dd>


<dt id="arg-serialnumber">serialNumber<a class="anchor" aria-label="anchor" href="#arg-serialnumber"></a></dt>
<dd><p>optional serial number of instrument</p></dd>


<dt id="arg-ship">ship<a class="anchor" aria-label="anchor" href="#arg-ship"></a></dt>
<dd><p>optional string containing the ship from which the observations were made.</p></dd>


<dt id="arg-cruise">cruise<a class="anchor" aria-label="anchor" href="#arg-cruise"></a></dt>
<dd><p>optional string containing a cruise identifier.</p></dd>


<dt id="arg-station">station<a class="anchor" aria-label="anchor" href="#arg-station"></a></dt>
<dd><p>optional string containing a station identifier.</p></dd>


<dt id="arg-starttime">startTime<a class="anchor" aria-label="anchor" href="#arg-starttime"></a></dt>
<dd><p>optional indication of the start time for the profile,
which is used in some several plotting functions.  This is best given as a
<a href="https://rdrr.io/r/base/DateTimeClasses.html" class="external-link">POSIXt</a> time, but it may also be a character string
that can be converted to a time with <code><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct()</a></code>,
using <code>UTC</code> as the timezone.</p></dd>


<dt id="arg-longitude">longitude<a class="anchor" aria-label="anchor" href="#arg-longitude"></a></dt>
<dd><p>optional numerical value containing longitude in decimal
degrees, positive in the eastern hemisphere. If this is a single number,
then it is stored in the <code>metadata</code> slot of the returned value; if it
is a vector of numbers, then they are stored in the <code>data</code> slot.</p></dd>


<dt id="arg-latitude">latitude<a class="anchor" aria-label="anchor" href="#arg-latitude"></a></dt>
<dd><p>optional numerical value containing the latitude in decimal
degrees, positive in the northern hemisphere. See the note on length, for
the <code>longitude</code> argument.</p></dd>


<dt id="arg-deploymenttype">deploymentType<a class="anchor" aria-label="anchor" href="#arg-deploymenttype"></a></dt>
<dd><p>character string indicating the type of deployment. Use
<code>"unknown"</code> if this is not known, <code>"profile"</code> for a profile (in
which the data were acquired during a downcast, while the device was lowered
into the water column, perhaps also including an upcast; <code>"moored"</code> if
the device is installed on a fixed mooring, <code>"thermosalinograph"</code> (or
<code>"tsg"</code>) if the device is mounted on a moving vessel, to record
near-surface properties, or <code>"towyo"</code> if the device is repeatedly
lowered and raised.</p></dd>


<dt id="arg-pressureatmospheric">pressureAtmospheric<a class="anchor" aria-label="anchor" href="#arg-pressureatmospheric"></a></dt>
<dd><p>A numerical value (a constant or a vector),
that is subtracted from pressure before storing it in the return value.
(This altered pressure is also used in calculating <code>salinity</code>, if
that is to be computed from <code>conductivity</code>, etc., using
<code><a href="swSCTp.html">swSCTp()</a></code>; see <code>salinity</code> above.)</p></dd>


<dt id="arg-sampleinterval">sampleInterval<a class="anchor" aria-label="anchor" href="#arg-sampleinterval"></a></dt>
<dd><p>optional numerical value indicating the time between
samples in the profile.</p></dd>


<dt id="arg-profile">profile<a class="anchor" aria-label="anchor" href="#arg-profile"></a></dt>
<dd><p>optional positive integer specifying the number of the profile
to extract from an object that has data in matrices, such as for some
<code>argo</code> objects. Currently the <code>profile</code> argument is only utilized for
<a href="argo-class.html">argo</a> objects.</p></dd>


<dt id="arg-debug">debug<a class="anchor" aria-label="anchor" href="#arg-debug"></a></dt>
<dd><p>an integer specifying whether debugging information is
to be printed during the processing. This is a general parameter that
is used by many <code>oce</code> functions. Generally, setting <code>debug=0</code>
turns off the printing, while higher values suggest that more information
be printed. If one function calls another, it usually reduces the value of
<code>debug</code> first, so that a user can often obtain deeper debugging
by specifying higher <code>debug</code> values.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <a href="ctd-class.html">ctd</a> object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The following sections provide an some notes on how <code>as.ctd()</code> handles
certain object types given as the first parameter.</p>
<p><strong>Converting argo objects</strong></p>
<p>If the <code>salinity</code> argument is an object of <a href="argo-class.html">argo</a>, then that
object is dismantled and reassembled as a <a href="ctd-class.html">ctd</a> object in ways that
are mostly straightforward, although the handling of time depends
on the information in the original NetCDF data file that was used
by <code><a href="read.argo.html">read.argo()</a></code> to create the <a href="argo-class.html">argo</a> object.</p>
<p>All Argo data files contain an item called <code>juld</code> from which the profile
time can be computed, and some also contain an additional item named <code>MTIME</code>,
from which the times of individual measurements can also be computed.  Both
cases are handled by <code>as.ctd()</code>, using a scheme outlined in
Note 4 of the Details section of the <code><a href="read.argo.html">read.argo()</a></code> documentation.</p>
<p><strong>Converting rsk objects</strong></p>
<p>If the <code>salinity</code> argument is an object of <a href="rsk-class.html">rsk</a>,
then <code>as.ctd</code> passes it,
<code>pressureAtmospheric</code>,
<code>longitude</code>,
<code>latitude</code>
<code>ship</code>,
<code>cruise</code>,
<code>station</code> and
<code>deploymentType</code>
to <code><a href="rsk2ctd.html">rsk2ctd()</a></code>, which builds the ctd object that is
returned by <code>as.ctd</code>. The other arguments to <code>as.ctd</code>
are ignored in this instance, because <code>rsk</code> objects already
contain their information. If required, any data or metadata
element can be added to the value returned by <code>as.ctd</code>
using <code><a href="oceSetData.html">oceSetData()</a></code> or <code><a href="oceSetMetadata.html">oceSetMetadata()</a></code>,
respectively.</p>
<p>The returned <a href="rsk-class.html">rsk</a> object contains pressure in a form that
may need to be adjusted, because <code>rsk</code> objects may contain
either absolute pressure or sea pressure. This adjustment is handled
automatically by <code>as.ctd</code>, by examination of the metadata item
named <code>pressureType</code> (described in the documentation for
<code><a href="read.rsk.html">read.rsk()</a></code>).  Once the sea pressure is determined,
adjustments may be made with the <code>pressureAtmospheric</code> argument,
although in that case it is better considered a pressure adjustment
than the atmospheric pressure.</p>
<p><a href="rsk-class.html">rsk</a> objects may store sea pressure or absolute pressure (the
sum of sea pressure and atmospheric pressure), depending on how the object was
created with <code><a href="as.rsk.html">as.rsk()</a></code> or <code><a href="read.rsk.html">read.rsk()</a></code>.  However,
<a href="ctd-class.html">ctd</a> objects store sea pressure, which is needed for
plotting, calculating density, etc. This poses no difficulties, however,
because <code>as.ctd</code> automatically converts absolute pressure to sea pressure,
if the metadata in the <a href="rsk-class.html">rsk</a> object indicates that this is
appropriate. Further alteration of the pressure can be accomplished with the
<code>pressureAtmospheric</code> argument, as noted above.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Culkin, F., and Norman D. Smith, 1980. Determination of the
concentration of potassium chloride solution having the same electrical
conductivity, at 15 C and infinite frequency, as standard seawater of salinity
35.0000 ppt (Chlorinity 19.37394 ppt). <em>IEEE Journal of Oceanic
Engineering</em>, volume <strong>5</strong>, pages 22-23.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other things related to ctd data:
<code><a href="CTD_BCD2014666_008_1_DN.ODF.gz.html">CTD_BCD2014666_008_1_DN.ODF.gz</a></code>,
<code><a href="sub-sub-ctd-method.html">[[,ctd-method</a></code>,
<code>[[&lt;-,ctd-method</code>,
<code><a href="cnvName2oceName.html">cnvName2oceName</a>()</code>,
<code><a href="ctd.html">ctd</a></code>,
<code><a href="ctd-class.html">ctd-class</a></code>,
<code><a href="ctd.cnv.gz.html">ctd.cnv.gz</a></code>,
<code><a href="ctdDecimate.html">ctdDecimate</a>()</code>,
<code><a href="ctdFindProfiles.html">ctdFindProfiles</a>()</code>,
<code><a href="ctdFindProfilesRBR.html">ctdFindProfilesRBR</a>()</code>,
<code><a href="ctdRaw.html">ctdRaw</a></code>,
<code><a href="ctdRepair.html">ctdRepair</a>()</code>,
<code><a href="ctdTrim.html">ctdTrim</a>()</code>,
<code><a href="ctd_aml.csv.gz.html">ctd_aml.csv.gz</a></code>,
<code><a href="d200321-001.ctd.gz.html">d200321-001.ctd.gz</a></code>,
<code><a href="d201211_0011.cnv.gz.html">d201211_0011.cnv.gz</a></code>,
<code><a href="handleFlags-ctd-method.html">handleFlags,ctd-method</a></code>,
<code><a href="initialize-ctd-method.html">initialize,ctd-method</a></code>,
<code><a href="initializeFlagScheme-ctd-method.html">initializeFlagScheme,ctd-method</a></code>,
<code><a href="oceNames2whpNames.html">oceNames2whpNames</a>()</code>,
<code><a href="oceUnits2whpUnits.html">oceUnits2whpUnits</a>()</code>,
<code><a href="plot-ctd-method.html">plot,ctd-method</a></code>,
<code><a href="plotProfile.html">plotProfile</a>()</code>,
<code><a href="plotScan.html">plotScan</a>()</code>,
<code><a href="plotTS.html">plotTS</a>()</code>,
<code><a href="read.ctd.html">read.ctd</a>()</code>,
<code><a href="read.ctd.aml.html">read.ctd.aml</a>()</code>,
<code><a href="read.ctd.itp.html">read.ctd.itp</a>()</code>,
<code><a href="read.ctd.odf.html">read.ctd.odf</a>()</code>,
<code><a href="read.ctd.odv.html">read.ctd.odv</a>()</code>,
<code><a href="read.ctd.saiv.html">read.ctd.saiv</a>()</code>,
<code><a href="read.ctd.sbe.html">read.ctd.sbe</a>()</code>,
<code><a href="read.ctd.ssda.html">read.ctd.ssda</a>()</code>,
<code><a href="read.ctd.woce.html">read.ctd.woce</a>()</code>,
<code><a href="read.ctd.woce.other.html">read.ctd.woce.other</a>()</code>,
<code><a href="setFlags-ctd-method.html">setFlags,ctd-method</a></code>,
<code><a href="subset-ctd-method.html">subset,ctd-method</a></code>,
<code><a href="summary-ctd-method.html">summary,ctd-method</a></code>,
<code><a href="woceNames2oceNames.html">woceNames2oceNames</a>()</code>,
<code><a href="woceUnit2oceUnit.html">woceUnit2oceUnit</a>()</code>,
<code><a href="write.ctd.html">write.ctd</a>()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Dan Kelley</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dankelley.github.io/oce/">oce</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># 1. fake data, with default units</span></span></span>
<span class="r-in"><span><span class="va">pressure</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">50</span></span></span>
<span class="r-in"><span><span class="va">temperature</span> <span class="op">&lt;-</span> <span class="fl">10</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/Hyperbolic.html" class="external-link">tanh</a></span><span class="op">(</span><span class="op">(</span><span class="va">pressure</span> <span class="op">-</span> <span class="fl">20</span><span class="op">)</span> <span class="op">/</span> <span class="fl">5</span><span class="op">)</span> <span class="op">+</span> <span class="fl">0.02</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">salinity</span> <span class="op">&lt;-</span> <span class="fl">34</span> <span class="op">+</span> <span class="fl">0.5</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Hyperbolic.html" class="external-link">tanh</a></span><span class="op">(</span><span class="op">(</span><span class="va">pressure</span> <span class="op">-</span> <span class="fl">20</span><span class="op">)</span> <span class="op">/</span> <span class="fl">5</span><span class="op">)</span> <span class="op">+</span> <span class="fl">0.01</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ctd</span> <span class="op">&lt;-</span> <span class="fu">as.ctd</span><span class="op">(</span><span class="va">salinity</span>, <span class="va">temperature</span>, <span class="va">pressure</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Add a new column</span></span></span>
<span class="r-in"><span><span class="va">fluo</span> <span class="op">&lt;-</span> <span class="fl">5</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="op">-</span><span class="va">pressure</span> <span class="op">/</span> <span class="fl">20</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ctd</span> <span class="op">&lt;-</span> <span class="fu"><a href="oceSetData.html">oceSetData</a></span><span class="op">(</span><span class="va">ctd</span>,</span></span>
<span class="r-in"><span>    name <span class="op">=</span> <span class="st">"fluorescence"</span>, value <span class="op">=</span> <span class="va">fluo</span>,</span></span>
<span class="r-in"><span>    unit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>unit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="va">mg</span> <span class="op">/</span> <span class="va">m</span><span class="op">^</span><span class="fl">3</span><span class="op">)</span>, scale <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ctd</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CTD Summary</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Data Overview</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                              Min.    Mean   Max.   Dim. NAs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     scan                     1       25.5   50     50   0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     salinity [PSS-78]        33.49   34.108 34.519 50   0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     temperature [°C, ITS-90] 8.962   9.7833 11.033 50   0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pressure [dbar]          1       25.5   50     50   0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     fluorescence [mg/m³]     0.41042 1.7903 4.7561 50   0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Processing Log</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - 2024-08-24 21:12:46 UTC: `create 'ctd' object`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - 2024-08-24 21:12:46 UTC: `as.ctd(salinity = salinity, temperature = temperature, pressure = pressure)`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - 2024-08-24 21:12:46 UTC: `oceSetData(object = ctd, name = "fluorescence", value = fluo,     unit = list(unit = expression(mg/m^3), scale = ""))`</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 2. fake data, with supplied units (which are the defaults, actually)</span></span></span>
<span class="r-in"><span><span class="va">ctd</span> <span class="op">&lt;-</span> <span class="fu">as.ctd</span><span class="op">(</span><span class="va">salinity</span>, <span class="va">temperature</span>, <span class="va">pressure</span>,</span></span>
<span class="r-in"><span>    units <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        salinity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>unit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="op">)</span>, scale <span class="op">=</span> <span class="st">"PSS-78"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        temperature <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>unit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="va">degree</span> <span class="op">*</span> <span class="va">C</span><span class="op">)</span>, scale <span class="op">=</span> <span class="st">"ITS-90"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        pressure <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>unit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="va">dbar</span><span class="op">)</span>, scale <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dan Kelley, Clark Richards.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

