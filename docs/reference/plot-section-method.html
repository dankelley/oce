<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Plot a section Object — plot,section-method • oce</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Plot a section Object — plot,section-method"><meta property="og:description" content="Creates a summary plot for a CTD section, with one panel for each value of
which."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">oce</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.8-2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/A_oce.html">1. Introduction to Oce</a>
    </li>
    <li>
      <a href="../articles/B_ctd.html">2. Analysis of CTD data</a>
    </li>
    <li>
      <a href="../articles/C_adp.html">3. Analysis of acoustic-Doppler data</a>
    </li>
    <li>
      <a href="../articles/D_map_projections.html">4. Using map projections</a>
    </li>
    <li>
      <a href="../articles/E_flags.html">5. Dealing with data-quality flags</a>
    </li>
    <li>
      <a href="../articles/F_subclassing.html">6. Subclassing oce objects</a>
    </li>
    <li>
      <a href="../articles/G_altering_defaults.html">7. Altering oce Defaults</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/dankelley/oce/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot a section Object</h1>
    <small class="dont-index">Source: <a href="https://github.com/dankelley/oce/blob/HEAD/R/section.R" class="external-link"><code>R/section.R</code></a></small>
    <div class="hidden name"><code>plot-section-method.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates a summary plot for a CTD section, with one panel for each value of
<code>which</code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for section</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  which <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">99</span><span class="op">)</span>,</span>
<span>  <span class="va">eos</span>,</span>
<span>  at <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  labels <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  grid <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  contourLevels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  contourLabels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">stationIndices</span>,</span>
<span>  coastline <span class="op">=</span> <span class="st">"best"</span>,</span>
<span>  colLand <span class="op">=</span> <span class="st">"gray"</span>,</span>
<span>  xlim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ylim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  zlim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  zbreaks <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  zcol <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  map.xlim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  map.ylim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">clongitude</span>,</span>
<span>  <span class="va">clatitude</span>,</span>
<span>  <span class="va">span</span>,</span>
<span>  projection <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xtype <span class="op">=</span> <span class="st">"distance"</span>,</span>
<span>  ytype <span class="op">=</span> <span class="st">"depth"</span>,</span>
<span>  ztype <span class="op">=</span> <span class="st">"contour"</span>,</span>
<span>  <span class="va">longitude0</span>,</span>
<span>  <span class="va">latitude0</span>,</span>
<span>  legend.loc <span class="op">=</span> <span class="st">"bottomright"</span>,</span>
<span>  legend.text <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  showStations <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  showStart <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  stationTicks <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  showBottom <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  showSpine <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  drawPalette <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  axes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">mgp</span>,</span>
<span>  <span class="va">mar</span>,</span>
<span>  <span class="va">col</span>,</span>
<span>  <span class="va">cex</span>,</span>
<span>  <span class="va">pch</span>,</span>
<span>  <span class="va">lwd</span>,</span>
<span>  labcex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"cex"</span><span class="op">)</span>,</span>
<span>  debug <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"oceDebug"</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>a <a href="section-class.html">section</a> object.</p></dd>


<dt>which</dt>
<dd><p>a list of desired plot types, as explained in “Details”.
There may be up to four panels in total, and the desired plots are placed in
these panels, in reading order.  If only one panel is plotted, <code>par</code> is
not adjusted, which makes it easy to add to the plot with subsequent plotting
commands.</p></dd>


<dt>eos</dt>
<dd><p>Character indication of the seawater equation of state
to use. The permitted choices are <code>"gsw"</code> and <code>"unesco"</code>. If <code>eos</code> is
not supplied, it defaults to <code><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></code><code>("oceEOS",default="gsw")</code>.</p></dd>


<dt>at</dt>
<dd><p>If <code>NULL</code> (the default), the x axis will indicate the distance
of the stations from the first in the section.  (This may give errors in the
contouring routine, if the stations are not present in a geographical order.)
If a list, then it indicates the values at which stations will be plotted.</p></dd>


<dt>labels</dt>
<dd><p>Either a logical, indicating whether to put labels on the x axis,
or a vector that is a list of labels to be placed at the x positions indicated
by <code>at</code>.</p></dd>


<dt>grid</dt>
<dd><p>If <code>TRUE</code>, points are drawn at data locations.</p></dd>


<dt>contourLevels</dt>
<dd><p>Optional contour levels.</p></dd>


<dt>contourLabels</dt>
<dd><p>Optional contour labels.</p></dd>


<dt>stationIndices</dt>
<dd><p>Optional list of the indices of stations to use.  Note
that an index is <em>not</em> a station number, e.g. to show the first 4
stations, use <code>station.indices=1:4</code>.</p></dd>


<dt>coastline</dt>
<dd><p>Either a <a href="coastline-class.html">coastline</a> object to be used,
or a string.  In the second case, the permitted
choices are <code>"best"</code> (the default) to pick
a variant that suits the scale, <code>"coastlineWorld"</code> for the coarse
version that is provided by <a href="https://CRAN.R-project.org/package=oce" class="external-link"><span class="pkg">oce</span></a>,
<code>"coastlineWorldMedium"</code> or <code>"coastlineWorldFine"</code> for two
coastlines provided by the <a href="https://CRAN.R-project.org/package=ocedata" class="external-link"><span class="pkg">ocedata</span></a> package, or <code>"none"</code>, to avoid
drawing a coastline.</p></dd>


<dt>colLand</dt>
<dd><p>colour used to fill in land areas if <code>which</code> is <code>"map"</code>;
ignored otherwise.</p></dd>


<dt>xlim</dt>
<dd><p>Optional limit for x axis (only in sections, not map).</p></dd>


<dt>ylim</dt>
<dd><p>Optional limit for y axis (only in sections, not map)</p></dd>


<dt>zlim, zbreaks, zcol</dt>
<dd><p>Elements that control colours for <code>image</code> and <code>points</code>
plot types, i.e. if <code>ztype</code> is either <code>"points"</code> or <code>"image"</code>.
<code>zlim</code> is a two-element numerical vector specifying the
limit on the plotted field.  If not provided, it defaults to the data
range.
<code>zbreaks</code> controls the colour breaks, in a manner that is similar to
the <code><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image()</a></code> parameter named <code>breaks</code>.  If not provided, <code>zbreaks</code> is
inferred from <code>zlim</code>.
<code>zcol</code>, which controls the colour scheme, may be a vector of colours
(of length 1 less than <code>zbreaks</code>), or a function that takes an
integer as its sole argument and returns that number of colours.
If not provided, <code>zcol</code> defaults to <code><a href="oceColorsViridis.html">oceColorsViridis()</a></code>.
These three parameters are used in Example 6, an illustration of
Atlantic salinity along 36N.</p></dd>


<dt>map.xlim, map.ylim</dt>
<dd><p>Optional limits for station map; <code>map.ylim</code> is
ignored if <code>map.xlim</code> is provided.</p></dd>


<dt>clongitude, clatitude, span</dt>
<dd><p>Optional map centre position and span (km).</p></dd>


<dt>projection</dt>
<dd><p>Parameter specifying map
projection; see <code><a href="mapPlot.html">mapPlot()</a></code>.  If <code>projection="automatic"</code>,
however, a projection is devised from the data, with <code>stereographic</code> if
the mean latitude exceeds 70N and <code>mollweide</code> otherwise.</p></dd>


<dt>xtype</dt>
<dd><p>Type of x axis, for contour plots, either <code>"distance"</code> for
distance (in km) to the first point in the section, <code>"track"</code> for distance
along the cruise track, <code>"longitude"</code>, <code>"latitude"</code>,
<code>"time"</code> or <code>"spine"</code> (distance along a spine that was added
with <code><a href="addSpine.html">addSpine()</a></code>).  Note that if the x values are not in order, they will be put in
order, and since that might not make physical sense, a warning will be issued.</p></dd>


<dt>ytype</dt>
<dd><p>Type of y axis for contour plots, either <code>"pressure"</code> for
pressure (in dbar, with zero at the surface) or <code>"depth"</code> for depth (in m
below the surface, calculated from pressure with <code><a href="swDepth.html">swDepth()</a></code>).</p></dd>


<dt>ztype</dt>
<dd><p>String indicating whether to how to indicate the "z"
data (in the R sense, i.e. this could be salinity, temperature, etc; it does
not mean the vertical coordinate) The choices are: <code>"contour"</code> for
contours, <code>"image"</code> for an image (drawn with <code><a href="imagep.html">imagep()</a></code> with
<code>filledContours=TRUE</code>), or <code>"points"</code> to draw points.
In the first two cases, the data must be gridded, with identical pressures at
each station.</p></dd>


<dt>longitude0, latitude0</dt>
<dd><p>Location of the point from which distance is measured.
These values are ignored unless <code>xtype</code> is <code>"distance"</code>.</p></dd>


<dt>legend.loc</dt>
<dd><p>Location of legend, as supplied to <code><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend()</a></code>, or
set to the empty string to avoid plotting a legend.</p></dd>


<dt>legend.text</dt>
<dd><p>character value indicating the text for the legend.
If this is NULL (the default) then the legend is automatically
constructed by <code><a href="labelWithUnit.html">labelWithUnit()</a></code>, based on the value of <code>which</code>.</p></dd>


<dt>showStations</dt>
<dd><p>Logical indicating whether to draw station numbers on maps.</p></dd>


<dt>showStart</dt>
<dd><p>Logical indicating whether to indicate the first station with</p></dd>


<dt>stationTicks</dt>
<dd><p>A logical value indicating whether to indicate station
locations with ticks at the top margin of cross-section plots. Setting this
parameter to <code>FALSE</code> frees the user up to do their own labelling
at this spot.</p></dd>


<dt>showBottom</dt>
<dd><p>a value indicating whether (and how) to indicate the
ocean bottom on cross-section views.  There are three possibilities.
(a) If <code>showBottom</code> is <code>FALSE</code>, then the bottom is not rendered.  If it
is <code>TRUE</code>, then the  bottom is rendered with a gray polygon.
(b) If <code>showBottom</code> is the character value <code>"polygon"</code>, then a polygon is drawn,
and similarly lines are drawn for <code>"lines"</code>, and points for <code>"points"</code>.
(c) If <code>showBottom</code> is a <a href="topo-class.html">topo</a> object, then the station locations are
interpolated to that topography and the results are shown with a polygon.
See “Examples”.</p></dd>


<dt>showSpine</dt>
<dd><p>logical value used if <code>which="map"</code>.  If <code>showSpine</code> is
<code>TRUE</code> and <code>section</code> has had a spine added with <code><a href="addSpine.html">addSpine()</a></code>, then
the spine is drawn in blue.</p></dd>


<dt>drawPalette</dt>
<dd><p>logical value indicating whether to draw a palette when <code>ztype="image"</code>
ignored otherwise.</p></dd>


<dt>axes</dt>
<dd><p>Logical value indicating whether to draw axes.</p></dd>


<dt>mgp</dt>
<dd><p>A 3-element numerical vector to use for <code>par(mgp)</code>, and also for
<code>par(mar)</code>, computed from this. If not provided, this defaults to
<code><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></code><code>("oceMgp")</code>.</p></dd>


<dt>mar</dt>
<dd><p>Value to be used with <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></code><code>("mar")</code>. If not provided,
a default is set up.</p></dd>


<dt>col</dt>
<dd><p>Color for line types.  If not provided, this defaults to
<code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></code><code>("col")</code>.  See <code>zcol</code>, for <code>ztype="image"</code> and <code>ztype="points"</code>.</p></dd>


<dt>cex</dt>
<dd><p>Numerical character-expansion factor, which defaults to <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></code><code>("cex")</code>.</p></dd>


<dt>pch</dt>
<dd><p>Indication of symbol type; defaults to <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></code><code>("pch")</code> for
non-map or to 3 for map.</p></dd>


<dt>lwd</dt>
<dd><p>line width; defaults to <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></code><code>("lwd")</code>.</p></dd>


<dt>labcex</dt>
<dd><p>Size of characters in contour labels (passed to
<code><a href="https://rdrr.io/r/graphics/contour.html" class="external-link">contour()</a></code>).</p></dd>


<dt>debug</dt>
<dd><p>an integer specifying whether debugging information is
to be printed during the processing. This is a general parameter that
is used by many <code>oce</code> functions. Generally, setting <code>debug=0</code>
turns off the printing, while higher values suggest that more information
be printed. If <code>debug</code> is not supplied, it defaults to
<code><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></code><code>("oceDebug")</code>.</p></dd>


<dt>...</dt>
<dd><p>Optional arguments passed to the contouring function.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>If the original section was gridded, the return value is that section.
Otherwise, the gridded section that was constructed for the plot is returned.
In both cases, the value is returned silently. The
purpose of returning the section is to enable subsequent processing
of the grid, including adding elements to the plot (see example 5).</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The type of plot is governed by <code>which</code>, as follows.</p><ul><li><p><code>which=0</code> or <code>"potential temperature"</code> for potential temperature contours</p></li>
<li><p><code>which=1</code> or <code>"temperature"</code> for in-situ temperature contours (the default)</p></li>
<li><p><code>which=2</code> or <code>"salinity"</code> for salinity contours</p></li>
<li><p><code>which=3</code> or <code>"sigmaTheta"</code> for sigma-theta contours</p></li>
<li><p><code>which=4</code> or <code>"nitrate"</code> for nitrate concentration contours</p></li>
<li><p><code>which=5</code> or <code>"nitrite"</code> for nitrite concentration contours</p></li>
<li><p><code>which=6</code> or <code>"oxygen"</code> for oxygen concentration  contours</p></li>
<li><p><code>which=7</code> or <code>"phosphate"</code> for phosphate concentration contours</p></li>
<li><p><code>which=8</code> or <code>"silicate"</code> for silicate concentration contours</p></li>
<li><p><code>which=9</code> or <code>"u"</code> for eastward velocity</p></li>
<li><p><code>which=10</code> or <code>"uz"</code> for vertical derivative of eastward velocity</p></li>
<li><p><code>which=11</code> or <code>"v"</code> for northward velocity</p></li>
<li><p><code>which=12</code> or <code>"vz"</code> for vertical derivative of northward velocity</p></li>
<li><p><code>which=20</code> or <code>"data"</code> for a dot for each data location</p></li>
<li><p><code>which=99</code> or <code>"map"</code> for a location map</p></li>
</ul><p>The y-axis for the contours is pressure, plotted in the conventional reversed
form, so that the water surface appears at the top of the plot.  The x-axis is
more complicated. If <code>at</code> is not supplied, then the routine calculates x
as the distance between the first station in the section and each of the other
stations. (This will produce an error if the stations are not ordered
geographically, because the <code><a href="https://rdrr.io/r/graphics/contour.html" class="external-link">contour()</a></code> routine cannot handle
non-increasing axis coordinates.) If <code>at</code> is specified, then it is taken
to be the location, in arbitrary units, along the x-axis of labels specified by
<code>labels</code>; the way this works is designed to be the same as for
<code><a href="https://rdrr.io/r/graphics/axis.html" class="external-link">axis()</a></code>.</p>
    </div>
    <div id="ancillary-examples">
    <h2>Ancillary Examples</h2>
    


<p>The following examples were once part of the “Examples”
section, but were moved here in May 2022, to reduce the build-check
time for CRAN submission.</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(oce)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">data</span>(section)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>GS <span class="ot">&lt;-</span> <span class="fu">subset</span>(section, <span class="dv">113</span><span class="sc">&lt;=</span>stationId<span class="sc">&amp;</span>stationId<span class="sc">&lt;=</span><span class="dv">129</span>)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>GSg <span class="ot">&lt;-</span> <span class="fu">sectionGrid</span>(GS, <span class="at">p=</span><span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">2000</span>, <span class="dv">100</span>))</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="co"># Gulf Stream, salinity data and contoured</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span>))</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="fu">plot</span>(GS, <span class="at">which=</span><span class="dv">1</span>, <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">2000</span>, <span class="dv">0</span>), <span class="at">ztype=</span><span class="st">"points"</span>,</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>     <span class="at">zbreaks=</span><span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">30</span>,<span class="dv">2</span>), <span class="at">pch=</span><span class="dv">20</span>, <span class="at">cex=</span><span class="dv">3</span>)</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="fu">plot</span>(GSg, <span class="at">which=</span><span class="dv">1</span>, <span class="at">ztype=</span><span class="st">"image"</span>, <span class="at">zbreaks=</span><span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">30</span>,<span class="dv">2</span>))</span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a><span class="co"># Gulf Stream, temperature grid (image) and data (dots)</span></span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>))</span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a><span class="fu">plot</span>(GSg, <span class="at">which=</span><span class="dv">1</span>, <span class="at">ztype=</span><span class="st">"image"</span>)</span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a>T <span class="ot">&lt;-</span> GS[[<span class="st">"temperature"</span>]]</span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a>col <span class="ot">&lt;-</span> <span class="fu">oceColorsViridis</span>(<span class="dv">100</span>)[<span class="fu">rescale</span>(T, <span class="at">rlow=</span><span class="dv">1</span>, <span class="at">rhigh=</span><span class="dv">100</span>)]</span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a><span class="fu">points</span>(GS[[<span class="st">"distance"</span>]],GS[[<span class="st">"depth"</span>]],<span class="at">pch=</span><span class="dv">20</span>,<span class="at">cex=</span><span class="dv">3</span>,<span class="at">col=</span><span class="st">"white"</span>)</span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a><span class="fu">points</span>(GS[[<span class="st">"distance"</span>]],GS[[<span class="st">"depth"</span>]],<span class="at">pch=</span><span class="dv">20</span>,<span class="at">cex=</span><span class="fl">2.5</span>,<span class="at">col=</span>col)</span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" tabindex="-1"></a><span class="co"># 4. Image of temperature, with a high-salinity contour on top;</span></span>
<span id="cb1-21"><a href="#cb1-21" tabindex="-1"></a><span class="co">#    note the Mediterranean water.</span></span>
<span id="cb1-22"><a href="#cb1-22" tabindex="-1"></a>sec <span class="ot">&lt;-</span> <span class="fu">plot</span>(section, <span class="at">which=</span><span class="st">"temperature"</span>, <span class="at">ztype=</span><span class="st">"image"</span>)</span>
<span id="cb1-23"><a href="#cb1-23" tabindex="-1"></a>S <span class="ot">&lt;-</span> sec[[<span class="st">"salinity"</span>, <span class="st">"grid:distance-pressure"</span>]]</span>
<span id="cb1-24"><a href="#cb1-24" tabindex="-1"></a><span class="fu">contour</span>(S<span class="sc">$</span>distance, S<span class="sc">$</span>pressure, S<span class="sc">$</span>field, <span class="at">level=</span><span class="fl">35.8</span>, <span class="at">lwd=</span><span class="dv">3</span>, <span class="at">add=</span><span class="cn">TRUE</span>)</span>
<span id="cb1-25"><a href="#cb1-25" tabindex="-1"></a></span>
<span id="cb1-26"><a href="#cb1-26" tabindex="-1"></a><span class="co"># 5. Contours of salinity, with dots for high pressure and spice</span></span>
<span id="cb1-27"><a href="#cb1-27" tabindex="-1"></a><span class="fu">plot</span>(section, <span class="at">which=</span><span class="st">"salinity"</span>)</span>
<span id="cb1-28"><a href="#cb1-28" tabindex="-1"></a>distance <span class="ot">&lt;-</span> section[[<span class="st">"distance"</span>]]</span>
<span id="cb1-29"><a href="#cb1-29" tabindex="-1"></a>depth <span class="ot">&lt;-</span> section[[<span class="st">"depth"</span>]]</span>
<span id="cb1-30"><a href="#cb1-30" tabindex="-1"></a>spice <span class="ot">&lt;-</span> section[[<span class="st">"spice"</span>]]</span>
<span id="cb1-31"><a href="#cb1-31" tabindex="-1"></a>look <span class="ot">&lt;-</span> spice <span class="sc">&gt;</span> <span class="fl">1.8</span> <span class="sc">&amp;</span> depth <span class="sc">&gt;</span> <span class="dv">500</span></span>
<span id="cb1-32"><a href="#cb1-32" tabindex="-1"></a><span class="fu">points</span>(distance[look], depth[look], <span class="at">col=</span><span class="st">"red"</span>)</span>
<span id="cb1-33"><a href="#cb1-33" tabindex="-1"></a></span>
<span id="cb1-34"><a href="#cb1-34" tabindex="-1"></a><span class="co"># Image of Absolute Salinity, with 4-minute bathymetry</span></span>
<span id="cb1-35"><a href="#cb1-35" tabindex="-1"></a><span class="co"># It's easy to calculate the desired area for the bathymetry,</span></span>
<span id="cb1-36"><a href="#cb1-36" tabindex="-1"></a><span class="co"># but for brevity we'll hard-code it. Note that download.topo()</span></span>
<span id="cb1-37"><a href="#cb1-37" tabindex="-1"></a><span class="co"># requires the "ncdf4" package to have been installed.</span></span>
<span id="cb1-38"><a href="#cb1-38" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">requireNamespace</span>(<span class="st">"ncdf4"</span>)) {</span>
<span id="cb1-39"><a href="#cb1-39" tabindex="-1"></a>    f <span class="ot">&lt;-</span> <span class="fu">download.topo</span>(<span class="at">west=</span><span class="sc">-</span><span class="dv">80</span>, <span class="at">east=</span><span class="dv">0</span>, <span class="at">south=</span><span class="dv">35</span>, <span class="at">north=</span><span class="dv">40</span>, <span class="at">resolution=</span><span class="dv">4</span>)</span>
<span id="cb1-40"><a href="#cb1-40" tabindex="-1"></a>    t <span class="ot">&lt;-</span> <span class="fu">read.topo</span>(f)</span>
<span id="cb1-41"><a href="#cb1-41" tabindex="-1"></a>    <span class="fu">plot</span>(section, <span class="at">which=</span><span class="st">"SA"</span>, <span class="at">xtype=</span><span class="st">"longitude"</span>, <span class="at">ztype=</span><span class="st">"image"</span>, <span class="at">showBottom=</span>t)</span>
<span id="cb1-42"><a href="#cb1-42" tabindex="-1"></a>}</span>
<span id="cb1-43"><a href="#cb1-43" tabindex="-1"></a></span>
<span id="cb1-44"><a href="#cb1-44" tabindex="-1"></a><span class="co"># Temperature with salinity added in red</span></span>
<span id="cb1-45"><a href="#cb1-45" tabindex="-1"></a><span class="fu">plot</span>(GSg, <span class="at">which=</span><span class="st">"temperature"</span>)</span>
<span id="cb1-46"><a href="#cb1-46" tabindex="-1"></a>distance <span class="ot">&lt;-</span> GSg[[<span class="st">"distance"</span>, <span class="st">"byStation"</span>]]</span>
<span id="cb1-47"><a href="#cb1-47" tabindex="-1"></a>depth <span class="ot">&lt;-</span> GSg[[<span class="st">"station"</span>, <span class="dv">1</span>]][[<span class="st">"depth"</span>]]</span>
<span id="cb1-48"><a href="#cb1-48" tabindex="-1"></a>S <span class="ot">&lt;-</span> <span class="fu">matrix</span>(GSg[[<span class="st">"salinity"</span>]], <span class="at">byrow=</span><span class="cn">TRUE</span>, <span class="at">nrow=</span><span class="fu">length</span>(GSg[[<span class="st">"station"</span>]]))</span>
<span id="cb1-49"><a href="#cb1-49" tabindex="-1"></a><span class="fu">contour</span>(distance, depth, S, <span class="at">col=</span><span class="dv">2</span>, <span class="at">add=</span><span class="cn">TRUE</span>)</span>
<span id="cb1-50"><a href="#cb1-50" tabindex="-1"></a></span>
<span id="cb1-51"><a href="#cb1-51" tabindex="-1"></a><span class="co"># Image with controlled colours</span></span>
<span id="cb1-52"><a href="#cb1-52" tabindex="-1"></a><span class="fu">plot</span>(GSg, <span class="at">which=</span><span class="st">"salinity"</span>, <span class="at">ztype=</span><span class="st">"image"</span>,</span>
<span id="cb1-53"><a href="#cb1-53" tabindex="-1"></a>    <span class="at">zlim=</span><span class="fu">c</span>(<span class="dv">35</span>, <span class="fl">37.5</span>),</span>
<span id="cb1-54"><a href="#cb1-54" tabindex="-1"></a>    <span class="at">zbreaks=</span><span class="fu">seq</span>(<span class="dv">35</span>, <span class="fl">37.5</span>, <span class="fl">0.25</span>),</span>
<span id="cb1-55"><a href="#cb1-55" tabindex="-1"></a>    <span class="at">zcol=</span>oceColorsTurbo)</span></code></pre><p></p></div>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>The documentation for <a href="section-class.html">section</a> explains the
structure of section objects, and also outlines the other functions dealing
with them.</p>
<p>Other functions that plot oce data: 
<code><a href="download.amsr.html">download.amsr</a>()</code>,
<code><a href="plot-adp-method.html">plot,adp-method</a></code>,
<code><a href="plot-adv-method.html">plot,adv-method</a></code>,
<code><a href="plot-amsr-method.html">plot,amsr-method</a></code>,
<code><a href="plot-argo-method.html">plot,argo-method</a></code>,
<code><a href="plot-bremen-method.html">plot,bremen-method</a></code>,
<code><a href="plot-cm-method.html">plot,cm-method</a></code>,
<code><a href="plot-coastline-method.html">plot,coastline-method</a></code>,
<code><a href="plot-ctd-method.html">plot,ctd-method</a></code>,
<code><a href="plot-gps-method.html">plot,gps-method</a></code>,
<code><a href="plot-ladp-method.html">plot,ladp-method</a></code>,
<code><a href="plot-landsat-method.html">plot,landsat-method</a></code>,
<code><a href="plot-lisst-method.html">plot,lisst-method</a></code>,
<code><a href="plot-lobo-method.html">plot,lobo-method</a></code>,
<code><a href="plot-met-method.html">plot,met-method</a></code>,
<code><a href="plot-odf-method.html">plot,odf-method</a></code>,
<code><a href="plot-rsk-method.html">plot,rsk-method</a></code>,
<code><a href="plot-satellite-method.html">plot,satellite-method</a></code>,
<code><a href="plot-sealevel-method.html">plot,sealevel-method</a></code>,
<code><a href="plot-tidem-method.html">plot,tidem-method</a></code>,
<code><a href="plot-topo-method.html">plot,topo-method</a></code>,
<code><a href="plot-windrose-method.html">plot,windrose-method</a></code>,
<code><a href="plot-xbt-method.html">plot,xbt-method</a></code>,
<code><a href="plotProfile.html">plotProfile</a>()</code>,
<code><a href="plotScan.html">plotScan</a>()</code>,
<code><a href="plotTS.html">plotTS</a>()</code>,
<code><a href="tidem-class.html">tidem-class</a></code></p>
<p>Other things related to section data: 
<code><a href="sub-sub-section-method.html">[[,section-method</a></code>,
<code>[[&lt;-,section-method</code>,
<code><a href="as.section.html">as.section</a>()</code>,
<code><a href="handleFlags-section-method.html">handleFlags,section-method</a></code>,
<code><a href="initializeFlagScheme-section-method.html">initializeFlagScheme,section-method</a></code>,
<code><a href="read.section.html">read.section</a>()</code>,
<code><a href="section-class.html">section-class</a></code>,
<code><a href="sectionAddStation.html">sectionAddStation</a>()</code>,
<code><a href="sectionGrid.html">sectionGrid</a>()</code>,
<code><a href="sectionSmooth.html">sectionSmooth</a>()</code>,
<code><a href="sectionSort.html">sectionSort</a>()</code>,
<code><a href="section.html">section</a></code>,
<code><a href="subset-section-method.html">subset,section-method</a></code>,
<code><a href="summary-section-method.html">summary,section-method</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Dan Kelley, with help from Clark Richards and Chantelle Layton.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dankelley.github.io/oce/" class="external-link">oce</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">section</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">GS</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">section</span>, <span class="fl">113</span><span class="op">&lt;=</span><span class="va">stationId</span><span class="op">&amp;</span><span class="va">stationId</span><span class="op">&lt;=</span><span class="fl">129</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">GSg</span> <span class="op">&lt;-</span> <span class="fu"><a href="sectionGrid.html">sectionGrid</a></span><span class="op">(</span><span class="va">GS</span>, p<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2000</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Gulf Stream, salinity and temperature contours</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">GSg</span>, which<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"salinity"</span>, <span class="st">"temperature"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot-section-method-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Gulf Stream, Temperature image</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">GSg</span>, which<span class="op">=</span><span class="st">"temperature"</span>, ztype<span class="op">=</span><span class="st">"image"</span>,</span></span>
<span class="r-in"><span>    zbreaks<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">25</span>,<span class="fl">2</span><span class="op">)</span>, zcol<span class="op">=</span><span class="va">oceColorsTemperature</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot-section-method-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Dan Kelley, Clark Richards.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

