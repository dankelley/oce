<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Establish a data-quality scheme for a oce object — initializeFlagSchemeInternal • oce</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Establish a data-quality scheme for a oce object — initializeFlagSchemeInternal"><meta property="og:description" content="This function stores add an item named flagScheme
to the metadata slot of an object inheriting from
oce. This is a list containing two
items: name and mapping, as provided in the
function arguments.
The purpose is both to document a flag scheme
and to make it so that initializeFlags(),
setFlags() and handleFlags()
can specify flags by
name, as opposed to number. This is a generic function,
that may be specialized to the class of object
(see &amp;#8220;Details&amp;#8221;)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">oce</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.5-0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/oce.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/adp.html">3. Analysis of acoustic-Doppler data</a>
    </li>
    <li>
      <a href="../articles/ctd.html">2. Analysis of CTD data</a>
    </li>
    <li>
      <a href="../articles/flags.html">5. Dealing with data-quality flags</a>
    </li>
    <li>
      <a href="../articles/map_projections.html">4. Using map projections</a>
    </li>
    <li>
      <a href="../articles/subclassing.html">6. Subclassing oce objects</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/dankelley/oce/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Establish a data-quality scheme for a oce object</h1>
    <small class="dont-index">Source: <a href="https://github.com/dankelley/oce/blob/HEAD/R/AllClass.R" class="external-link"><code>R/AllClass.R</code></a></small>
    <div class="hidden name"><code>initializeFlagSchemeInternal.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function stores add an item named <code>flagScheme</code>
to the <code>metadata</code> slot of an object inheriting from
<a href="oce-class.html">oce</a>. This is a list containing two
items: <code>name</code> and <code>mapping</code>, as provided in the
function arguments.
The purpose is both to document a flag scheme
and to make it so that <code><a href="initializeFlags.html">initializeFlags()</a></code>,
<code><a href="setFlags.html">setFlags()</a></code> and <code><a href="handleFlags.html">handleFlags()</a></code>
can specify flags by
name, as opposed to number. This is a generic function,
that may be specialized to the class of <code>object</code>
(see “Details”).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">initializeFlagSchemeInternal</span><span class="op">(</span>
  <span class="va">object</span>,
  name <span class="op">=</span> <span class="cn">NULL</span>,
  mapping <span class="op">=</span> <span class="cn">NULL</span>,
  default <span class="op">=</span> <span class="cn">NULL</span>,
  update <span class="op">=</span> <span class="cn">NULL</span>,
  debug <span class="op">=</span> <span class="fl">0</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>object</dt>
<dd><p>An oce object.</p></dd>
<dt>name</dt>
<dd><p>a character value naming the scheme. If this refers
to a pre-defined scheme, then <code>mapping</code> must not be provided,
because doing so would contradict the pre-defined scheme, defeating
its purpose of providing concreteness and clarity.</p></dd>
<dt>mapping</dt>
<dd><p>a list of named items describing the mapping from
flag meaning to flag numerical value, e.g <code>list(good=1, bad=2)</code>
might be used for a hypothetical class.</p></dd>
<dt>default</dt>
<dd><p>an integer vector of flag values that are not considered
to be good. If this is not provided, but if <code>name</code> is <code>"argo"</code>,
<code>"BODC"</code>,
<code>"DFO"</code>,
<code>"WHP bottle"</code>, or
<code>"WHP CTD"</code>, then a conservative value will be set automatically,
equal to the list of flag values that designate bad or questionable data.
For example, for <code>name="WHP CTD"</code>, the setting will be
<code>c(1,3,4,5,6,7,9)</code>, leaving only value <code>2</code>, which corresponds
with "acceptable" in the notation used for that flag scheme.</p></dd>
<dt>update</dt>
<dd><p>a logical value indicating whether the scheme provided is
to update an existing scheme.  The default value, <code>FALSE</code>, prevents such
an attempt to alter an existing flag scheme, if one is already embedded
in <code>object</code>.</p></dd>
<dt>debug</dt>
<dd><p>an integer set to 0 for quiet action or to 1 for some debugging.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>An object with the <code>metadata</code> slot containing <code>flagScheme</code>.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The following pre-defined schemes are available (note that the
names are simplified from the phrases used in defining
documentation):</p><ul><li><p><code>name="argo"</code> defaults <code>mapping</code> to
OLD (prior to June 10, 2020)</p></li>
</ul><div class="sourceCode"><pre><code><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>not_assessed<span class="op">=</span><span class="fl">0</span>, passed_all_tests<span class="op">=</span><span class="fl">1</span>, probably_good<span class="op">=</span><span class="fl">2</span>,
     probably_bad<span class="op">=</span><span class="fl">3</span>, bad<span class="op">=</span><span class="fl">4</span>, averaged<span class="op">=</span><span class="fl">7</span>,
     interpolated<span class="op">=</span><span class="fl">8</span>, missing<span class="op">=</span><span class="fl">9</span><span class="op">)</span></code></pre></div>

<p>NEW (after June 10, 2020)</p><div class="sourceCode"><pre><code><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>not_assessed<span class="op">=</span><span class="fl">0</span>, passed_all_tests<span class="op">=</span><span class="fl">1</span>, probably_good<span class="op">=</span><span class="fl">2</span>,
     probably_bad<span class="op">=</span><span class="fl">3</span>, bad<span class="op">=</span><span class="fl">4</span>, changed<span class="op">=</span><span class="fl">5</span>, not_used_6<span class="op">=</span><span class="fl">6</span>, not_used_7<span class="op">=</span><span class="fl">7</span>,
     estimated<span class="op">=</span><span class="fl">8</span>, missing<span class="op">=</span><span class="fl">9</span><span class="op">)</span></code></pre></div>

<p>See reference 1 for a deeper explanation of the meanings of these codes.</p><ul><li><p><code>name="BODC"</code> defaults <code>mapping</code> to</p></li>
</ul><div class="sourceCode"><pre><code><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>no_quality_control<span class="op">=</span><span class="fl">0</span>, good<span class="op">=</span><span class="fl">1</span>, probably_good<span class="op">=</span><span class="fl">2</span>,
     probably_bad<span class="op">=</span><span class="fl">3</span>, bad<span class="op">=</span><span class="fl">4</span>, changed<span class="op">=</span><span class="fl">5</span>,
     below_detection<span class="op">=</span><span class="fl">6</span>, in_excess<span class="op">=</span><span class="fl">7</span>, interpolated<span class="op">=</span><span class="fl">8</span>,
     missing<span class="op">=</span><span class="fl">9</span><span class="op">)</span></code></pre></div>

<p>See reference 2 for a deeper explanation of the meanings of these codes,
and note that codes <code>A</code> and <code>Q</code> are not provided in
oce.</p><ul><li><p><code>name="DFO"</code> defaults <code>mapping</code> to</p></li>
</ul><div class="sourceCode"><pre><code><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>no_quality_control<span class="op">=</span><span class="fl">0</span>, appears_correct<span class="op">=</span><span class="fl">1</span>, appears_inconsistent<span class="op">=</span><span class="fl">2</span>,
     doubtful<span class="op">=</span><span class="fl">3</span>, erroneous<span class="op">=</span><span class="fl">4</span>, changed<span class="op">=</span><span class="fl">5</span>,
     qc_by_originator<span class="op">=</span><span class="fl">8</span>, missing<span class="op">=</span><span class="fl">9</span><span class="op">)</span></code></pre></div>

<p>See reference 3 for a deeper explanation of the meanings of these codes.</p><ul><li><p><code>name="WHP bottle"</code> defaults <code>mapping</code> to</p></li>
</ul><div class="sourceCode"><pre><code><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>no_information<span class="op">=</span><span class="fl">1</span>, no_problems_noted<span class="op">=</span><span class="fl">2</span>, leaking<span class="op">=</span><span class="fl">3</span>,
     did_not_trip<span class="op">=</span><span class="fl">4</span>, not_reported<span class="op">=</span><span class="fl">5</span>, discrepency<span class="op">=</span><span class="fl">6</span>,
     unknown_problem<span class="op">=</span><span class="fl">7</span>, did_not_trip<span class="op">=</span><span class="fl">8</span>, no_sample<span class="op">=</span><span class="fl">9</span><span class="op">)</span></code></pre></div>

<p>See reference 4 for a deeper explanation of the meanings of these codes.</p><ul><li><p><code>name="WHP CTD"</code> defaults <code>mapping</code> to</p></li>
</ul><div class="sourceCode"><pre><code><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>not_calibrated<span class="op">=</span><span class="fl">1</span>, acceptable<span class="op">=</span><span class="fl">2</span>, questionable<span class="op">=</span><span class="fl">3</span>,
    bad<span class="op">=</span><span class="fl">4</span>, not_reported<span class="op">=</span><span class="fl">5</span>, interpolated<span class="op">=</span><span class="fl">6</span>,
    despiked<span class="op">=</span><span class="fl">7</span>, missing<span class="op">=</span><span class="fl">9</span><span class="op">)</span></code></pre></div>

<p>See reference 4 for a deeper explanation of the meanings of these codes.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    
<ol><li><p>The codes for <code>"argo"</code> are derived from information in Table 4.1
of Wong, Annie, Robert Keeley, Thierry Carval, and Argo Data Management Team
(8 January 2020), "Argo Quality Control Manual for CTD and Trajectory Data, Version 3.3,"
available at <a href="https://archimer.ifremer.fr/doc/00228/33951/" class="external-link">https://archimer.ifremer.fr/doc/00228/33951/</a>
as of June 2020.</p></li>
<li><p>The codes for <code>"BODC"</code> are defined at
http://seadatanet.maris2.nl/v_bodc_vocab_v2/browse.asp?order=conceptid&amp;formname=search&amp;screen=0&amp;lib=l20</p></li>
<li><p>The codes for <code>"DFO"</code> are defined at
http://www.dfo-mpo.gc.ca/science/data-donnees/code/list/014-eng.html</p></li>
<li><p>The codes for <code>"WHP CTD"</code> and <code>"WHP bottle"</code> are defined at
https://www.nodc.noaa.gov/woce/woce_v3/wocedata_1/whp/exchange/exchange_format_desc.htm</p></li>
</ol></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other functions relating to data-quality flags: 
<code><a href="defaultFlags.html">defaultFlags</a>()</code>,
<code><a href="handleFlags-adp-method.html">handleFlags,adp-method</a></code>,
<code><a href="handleFlags-argo-method.html">handleFlags,argo-method</a></code>,
<code><a href="handleFlags-ctd-method.html">handleFlags,ctd-method</a></code>,
<code><a href="handleFlags-oce-method.html">handleFlags,oce-method</a></code>,
<code><a href="handleFlags-section-method.html">handleFlags,section-method</a></code>,
<code><a href="handleFlags.html">handleFlags</a>()</code>,
<code><a href="initializeFlagScheme-ctd-method.html">initializeFlagScheme,ctd-method</a></code>,
<code><a href="initializeFlagScheme-oce-method.html">initializeFlagScheme,oce-method</a></code>,
<code><a href="initializeFlagScheme-section-method.html">initializeFlagScheme,section-method</a></code>,
<code><a href="initializeFlagScheme.html">initializeFlagScheme</a>()</code>,
<code><a href="initializeFlags-adp-method.html">initializeFlags,adp-method</a></code>,
<code><a href="initializeFlags-oce-method.html">initializeFlags,oce-method</a></code>,
<code><a href="initializeFlagsInternal.html">initializeFlagsInternal</a>()</code>,
<code><a href="initializeFlags.html">initializeFlags</a>()</code>,
<code><a href="setFlags-adp-method.html">setFlags,adp-method</a></code>,
<code><a href="setFlags-ctd-method.html">setFlags,ctd-method</a></code>,
<code><a href="setFlags-oce-method.html">setFlags,oce-method</a></code>,
<code><a href="setFlags.html">setFlags</a>()</code></p>
<p>Other things related to oce data: 
<code><a href="initializeFlagScheme-oce-method.html">initializeFlagScheme,oce-method</a></code>,
<code><a href="initializeFlagScheme.html">initializeFlagScheme</a>()</code></p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Dan Kelley, Clark Richards.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

